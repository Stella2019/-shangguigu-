<html>

<head>
<meta name=Title content="">
<meta name=Keywords content="">
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Arial;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Courier New";
	panose-1:2 7 3 9 2 2 5 2 4 4;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:微软雅黑;}
@font-face
	{font-family:黑体;}
@font-face
	{font-family:华文细黑;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Times New Roman",serif;}
h1
	{margin-top:17.0pt;
	margin-right:0in;
	margin-bottom:16.5pt;
	margin-left:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	font-size:22.0pt;
	font-family:"Times New Roman",serif;
	font-weight:bold;}
h2
	{margin-top:13.0pt;
	margin-right:0in;
	margin-bottom:13.0pt;
	margin-left:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:172%;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h3
	{margin-top:13.0pt;
	margin-right:0in;
	margin-bottom:13.0pt;
	margin-left:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:172%;
	font-size:16.0pt;
	font-family:"Times New Roman",serif;
	font-weight:bold;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:宋体;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
code
	{font-family:宋体;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:宋体;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:10.5pt;
	font-family:"Times New Roman",serif;}
span.Heading3Char
	{font-weight:bold;}
span.Heading1Char
	{font-weight:bold;}
span.DocumentMapChar
	{font-family:宋体;}
span.HTMLPreformattedChar
	{font-family:宋体;}
span.Heading2Char
	{font-family:"Arial",sans-serif;
	font-weight:bold;}
p.1, li.1, div.1
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
p.a, li.a, div.a
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:11.0pt;
	layout-grid-mode:char;
	background:#E0E0E0;
	font-size:8.0pt;
	font-family:"Courier New",serif;}
p.10, li.10, div.10
	{margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	line-height:16.5pt;
	punctuation-trim:leading;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;}
p.a0, li.a0, div.a0
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:14.0pt;
	font-size:7.5pt;
	font-family:"Calibri",sans-serif;
	vertical-align:super;
	layout-grid-mode:line;}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:1.0in 1.25in 1.0in 1.25in;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:22.0pt;font-family:宋体'>尚硅谷大数据技术之</span><span style='font-size:
22.0pt'>Hadoop</span><span lang=ZH-CN style='font-size:22.0pt;font-family:宋体'>（入门）</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:12.0pt'> (</span><span lang=ZH-CN style='font-size:12.0pt;
font-family:宋体'>作者：尚硅谷大数据研发部</span><span style='font-size:12.0pt'>)</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:12.0pt;font-family:"微软雅黑",sans-serif'>版本：</span><span
style='font-size:12.0pt'>V2.0</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:12.0pt'>&nbsp;</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:7.1pt;
margin-bottom:.0001pt'><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>第</span><span style='font-size:15.0pt;line-height:240%'>1</span><span
lang=ZH-CN style='font-size:15.0pt;line-height:240%;font-family:宋体'>章</span><span
lang=ZH-CN style='font-size:15.0pt;line-height:240%'> </span><span lang=ZH-CN
style='font-size:15.0pt;line-height:240%;font-family:宋体'>大数据概论</span></h1>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>1.1 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据概念</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>大数据概念如图</span>2-1 <span lang=ZH-CN style='font-family:宋体'>所示。</span></p>

<p class=MsoNormal><img width=409 height=231 id="_x0000_i1025"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image001.png"></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-1 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据概念</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>1.2 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据特点（</span><span
style='font-size:14.0pt;line-height:172%;font-family:"Times New Roman",serif'>4V</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>）</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>大数据特点如图</span>2-2<span lang=ZH-CN style='font-family:宋体'>，</span>2-3<span
lang=ZH-CN style='font-family:宋体'>，</span>2-4<span lang=ZH-CN style='font-family:
宋体'>，</span>2-5<span lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoNormal><img width=410 height=233 id="_x0000_i1026"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image002.png"></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-2 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据特点之大量</span></p>

<p class=MsoNormal style='line-height:150%'><span style='line-height:150%'><img
width=410 height=232 id="_x0000_i1027"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image003.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-3 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据特点之高速</span></p>

<p class=MsoNormal style='line-height:150%'><span style='line-height:150%'><img
width=412 height=232 id="_x0000_i1028"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image004.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-4 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据特点之多样</span></p>

<p class=MsoNormal style='line-height:150%'><span style='font-size:12.0pt;
line-height:150%'><img width=412 height=232 id="_x0000_i1029"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image005.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-5 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据特点之低价值密度</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>1.3 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据应用场景</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>大数据应用场景如图</span>2-6<span lang=ZH-CN style='font-family:宋体'>，</span>2-7<span
lang=ZH-CN style='font-family:宋体'>，</span>2-8<span lang=ZH-CN style='font-family:
宋体'>，</span>2-9<span lang=ZH-CN style='font-family:宋体'>，</span>2-10<span
lang=ZH-CN style='font-family:宋体'>，</span>2-11<span lang=ZH-CN
style='font-family:宋体'>所示</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=232 id="_x0000_i1030"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image006.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-6 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据应用场景之物流仓储</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=410 height=231 id="_x0000_i1031"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image007.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-7 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据应用场景之零售</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=409 height=231 id="_x0000_i1032"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image008.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-8 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据应用场景之旅游</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=232 id="_x0000_i1033"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image009.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-9 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据应用场景之商品广告推荐</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=413 height=234 id="_x0000_i1034"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image010.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-10 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据应用场景之保险、金融及房产</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=413 height=232 id="_x0000_i1035"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image011.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-11 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据应用场景人工智能</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>1.4 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据发展前景</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>大数据发展前景如图</span>2-12<span lang=ZH-CN style='font-family:宋体'>，</span>2-13<span
lang=ZH-CN style='font-family:宋体'>，</span>2-14<span lang=ZH-CN
style='font-family:宋体'>，</span>2-15<span lang=ZH-CN style='font-family:宋体'>，</span>2-16<span
lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=234 id="_x0000_i1036"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image012.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-12 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据发展前景之国家政策</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=234 id="_x0000_i1037"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image013.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-13 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据发展前景之国际方面</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=231 id="_x0000_i1038"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image014.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-14 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据发展前景之高校方面</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=234 id="_x0000_i1039"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image015.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-15 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据发展前景之平均薪资</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=410 height=231 id="_x0000_i1040"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image016.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-16 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据发展前景之整体薪资</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>1.5 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据部门业务流程分析</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>大数据部门业务流程分析如图</span>2-17<span lang=ZH-CN style='font-family:宋体'>所示。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><img
width=411 height=232 id="_x0000_i1041"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image017.png"></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-17 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据部门业务流程分析</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>1.6 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据部门组织结构（重点）</span></h2>

<p class=MsoListParagraph style='line-height:150%'><span lang=ZH-CN
style='line-height:150%;font-family:宋体'>大数据部门组织结构，适用于大中型企业，如图</span><span
style='line-height:150%'>2-18</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>所示。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><img
width=412 height=234 id="_x0000_i1042"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image018.png"></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-18 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>大数据部门组织结构</span></p>

<h1 style='margin:0in;margin-bottom:.0001pt'><span lang=ZH-CN style='font-size:
15.0pt;line-height:240%;font-family:宋体'>第</span><span style='font-size:15.0pt;
line-height:240%'>2</span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>章</span><span lang=ZH-CN style='font-size:15.0pt;
line-height:240%'> </span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>从</span><span style='font-size:15.0pt;line-height:240%'>Hadoop</span><span
lang=ZH-CN style='font-size:15.0pt;line-height:240%;font-family:宋体'>框架讨论大数据生态</span></h1>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.1 Hadoop</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>是什么</span></h2>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=413 height=231 id="_x0000_i1043"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image019.png"></span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.2 Hadoop</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>发展历史</span></h2>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=411 height=231 id="_x0000_i1044"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image020.png"></span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img width=416 height=234 id="_x0000_i1045"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image021.png"></span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.3 Hadoop</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>三大发行版本</span></h2>

<p class=MsoNormal style='line-height:150%'><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>三大发行版本：</span><span
style='line-height:150%'>Apache</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>、</span><span style='line-height:150%'>Cloudera</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>、</span><span
style='line-height:150%'>Hortonworks</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
style='line-height:150%'>Apache</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>版本最原始（最基础）的版本，对于入门学习最好。</span></p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
style='line-height:150%'>Cloudera</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>在大型互联网企业中用的较多。</span></p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
style='line-height:150%'>Hortonworks</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>文档较好。</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Apache
Hadoop</p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>官网地址：</span><span
style='line-height:150%'>http://hadoop.apache.org/releases.html</span></p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>下载地址：</span><a
href="https://archive.apache.org/dist/hadoop/common/"><span style='line-height:
150%'>https://archive.apache.org/dist/hadoop/common/</span></a></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Cloudera
Hadoop </p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>官网地址：</span><span
style='line-height:150%'>https://www.cloudera.com/downloads/cdh/5-10-0.html</span></p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>下载地址：</span><span
style='line-height:150%'>http://archive-primary.cloudera.com/cdh5/cdh/5/</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>1</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>2008</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>年成立的</span><span
style='line-height:150%'>Cloudera</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>是最早将</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>商用的公司，为合作伙伴提供</span><span
style='line-height:150%'>Hadoop</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>的商用解决方案，主要是包括支持、咨询服务、培训。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><b><span
lang=ZH-CN style='line-height:150%;font-family:宋体;color:black'>（</span></b><b><span
style='line-height:150%;color:black'>2</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>）</span></b><b><span
style='line-height:150%;color:black'>2009</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>年</span></b><b><span
style='line-height:150%;color:black'>Hadoop</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>的创始人</span></b><b><span
style='line-height:150%;color:black'>Doug Cutting</span></b><b><span
lang=ZH-CN style='line-height:150%;font-family:宋体;color:black'>也加盟</span></b><b><span
style='line-height:150%;color:black'>Cloudera</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>公司</span></b><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>。</span><span
style='line-height:150%'>Cloudera</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>产品主要为</span><span style='line-height:150%'>CDH</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>，</span><span
style='line-height:150%'>Cloudera Manager</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体'>，</span><span style='line-height:150%'>Cloudera
Support</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>3</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>CDH</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>是</span><span
style='line-height:150%'>Cloudera</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>的</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>发行版，完全开源，比</span><span
style='line-height:150%'>Apache Hadoop</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>在兼容性，安全性，稳定性上有所增强。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>4</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Cloudera Manager</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>是集群的软件分发及管理监控平台，可以在几个小时内部署好一个</span><span
style='line-height:150%'>Hadoop</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>集群，并对集群的节点及服务进行实时监控。</span><span style='line-height:150%'>Cloudera
Support</span><span lang=ZH-CN style='line-height:150%;font-family:宋体'>即是对</span><span
style='line-height:150%'>Hadoop</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>的技术支持。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>5</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Cloudera</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的标价为每年每个节点</span><span
style='line-height:150%'>4000</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>美元。</span><span style='line-height:150%'>Cloudera</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>开发并贡献了可实时处理大数据的</span><span
style='line-height:150%'>Impala</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>项目。</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    Hortonworks
Hadoop</p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>官网地址：</span><span
style='line-height:150%'>https://hortonworks.com/products/data-center/hdp/</span></p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>下载地址：</span><span
style='line-height:150%'>https://hortonworks.com/downloads/#data-platform</span></p>

<p class=MsoNormal style='margin-left:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>1</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>2011</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>年成立的</span><span
style='line-height:150%'>Hortonworks</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>是雅虎与硅谷风投公司</span><span style='line-height:150%'>Benchmark
Capital</span><span lang=ZH-CN style='line-height:150%;font-family:宋体'>合资组建。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><b><span
lang=ZH-CN style='line-height:150%;font-family:宋体;color:black'>（</span></b><b><span
style='line-height:150%;color:black'>2</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>）公司成立之初就吸纳了大约</span></b><b><span
style='line-height:150%;color:black'>25</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>名至</span></b><b><span
style='line-height:150%;color:black'>30</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>名专门研究</span></b><b><span
style='line-height:150%;color:black'>Hadoop</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>的雅虎工程师，上述工程师均在</span></b><b><span
style='line-height:150%;color:black'>2005</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>年开始协助雅虎开发</span></b><b><span
style='line-height:150%;color:black'>Hadoop</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>，贡献了</span></b><b><span
style='line-height:150%;color:black'>Hadoop80%</span></b><b><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:black'>的代码。</span></b></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>3</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）雅虎工程副总裁、雅虎</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>开发团队负责人</span><span
style='line-height:150%'>Eric Baldeschwieler</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体'>出任</span><span style='line-height:150%'>Hortonworks</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的首席执行官。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>4</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Hortonworks</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的主打产品是</span><span
style='line-height:150%'>Hortonworks Data Platform</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体'>（</span><span style='line-height:150%'>HDP</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>），也同样是</span><span
style='line-height:150%'>100%</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>开源的产品，</span><span style='line-height:150%'>HDP</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>除常见的项目外还包括了</span><span
style='line-height:150%'>Ambari</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>，一款开源的安装和管理系统。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>5</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>HCatalog</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>，一个元数据管理系统，</span><span
style='line-height:150%'>HCatalog</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>现已集成到</span><span style='line-height:150%'>Facebook</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>开源的</span><span
style='line-height:150%'>Hive</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>中。</span><span style='line-height:150%'>Hortonworks</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的</span><span
style='line-height:150%'>Stinger</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>开创性的极大的优化了</span><span style='line-height:150%'>Hive</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>项目。</span><span
style='line-height:150%'>Hortonworks</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>为入门提供了一个非常好的，易于使用的沙盒。</span></p>

<p class=MsoNormal style='text-indent:17.85pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>6</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Hortonworks</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>开发了很多增强特性并提交至核心主干，这使得</span><span
style='line-height:150%'>Apache Hadoop</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>能够在包括</span><span style='line-height:150%'>Window Server</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>和</span><span
style='line-height:150%'>Windows Azure</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>在内的</span><span style='line-height:150%'>Microsoft Windows</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>平台上本地运行。定价以集群为基础，每</span><span
style='line-height:150%'>10</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>个节点每年为</span><span style='line-height:150%'>12500</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>美元。</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.4 Hadoop</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>的优势（</span><span
style='font-size:14.0pt;line-height:172%;font-family:"Times New Roman",serif'>4</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>高）</span></h2>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img border=0 width=411 height=231 id="_x0000_i1046"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image022.png"></span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.5 Hadoop</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>组成（面试重点）</span></h2>

<p class=MsoNormal style='line-height:150%'><span style='font-size:12.0pt;
line-height:150%'><img border=0 width=412 height=232 id="_x0000_i1047"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image023.png"></span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-21 Hadoop1.x</span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>与</span><span
style='font-size:9.0pt;line-height:150%'>Hadoop2.x</span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>的区别</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>2.5.1 HDFS</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>架构概述</span></h3>

<p class=MsoNormal>HDFS<span lang=ZH-CN style='font-family:宋体'>（</span>Hadoop
Distributed File System<span lang=ZH-CN style='font-family:宋体'>）的架构概述，如图</span>2-23<span
lang=ZH-CN style='font-family:宋体'>所示。</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=416 height=234 id="_x0000_i1048"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image024.png"><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-23 HDFS</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体'>架构概述</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>2.5.2 YARN</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>架构概述</span></h3>

<p class=MsoNormal style='line-height:150%'>YARN<span lang=ZH-CN
style='font-family:宋体'>架构概述，如图</span>2-24<span lang=ZH-CN style='font-family:
宋体'>所示。</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=412 height=234
id="_x0000_i1049" src="尚硅谷大数据技术之Hadoop（入门）.fld/image025.png"></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-24  YARN</span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>架构概述</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>2.5.3 MapReduce</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>架构概述</span></h3>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>MapReduce</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>将计算过程分为两个阶段：</span><span style='line-height:150%'>Map</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>和</span><span
style='line-height:150%'>Reduce</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>，如图</span><span style='line-height:150%'>2-25</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>所示</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>1</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Map</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>阶段并行处理输入数据</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>2</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Reduce</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>阶段对</span><span
style='line-height:150%'>Map</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>结果进行汇总</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'><img border=0 width=414 height=234 id="_x0000_i1050"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image026.png"></span></p>

<p class=MsoListParagraph align=center style='text-align:center;text-indent:
0in;line-height:150%'><span lang=ZH-CN style='line-height:150%;font-family:
宋体'>图</span><span style='line-height:150%'>2-25 MapReduce</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>架构概述</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.6 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>大数据技术生态体系</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>大数据技术生态体系如图</span>2-26<span lang=ZH-CN style='font-family:宋体'>所示。</span></p>

<p class=MsoNormal><img border=0 width=412 height=234 id="_x0000_i1051"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image027.png"></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-26 
</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体'>大数据技术生态体系</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>图中涉及的技术名词解释如下：</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>1</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Sqoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Sqoop</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是一款开源的工具，主要用于在</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>、</span><span
style='line-height:150%'>Hive</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>与传统的数据库</span><span style='line-height:150%'>(MySql)</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>间进行数据的传递，可以将一个关系型数据库（例如</span><span
lang=ZH-CN style='line-height:150%'> </span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>：</span><span style='line-height:150%'>MySQL</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>，</span><span
style='line-height:150%'>Oracle </span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>等）中的数据导进到</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的</span><span
style='line-height:150%'>HDFS</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>中，也可以将</span><span style='line-height:150%'>HDFS</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的数据导进到关系型数据库中。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>2</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Flume</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Flume</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是</span><span style='line-height:150%'>Cloudera</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，</span><span
style='line-height:150%'>Flume</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>支持在日志系统中定制各类数据发送方，用于收集数据；同时，</span><span style='line-height:
150%'>Flume</span><span lang=ZH-CN style='line-height:150%;font-family:宋体'>提供对数据进行简单处理，并写到各种数据接受方（可定制）的能力。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>3</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Kafka</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Kafka</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是一种高吞吐量的分布式发布订阅消息系统，有如下特性：</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>1</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）通过</span><span style='line-height:150%'>O(1)</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的磁盘数据结构提供消息的持久化，这种结构对于即使数以</span><span
style='line-height:150%'>TB</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>的消息存储也能够保持长时间的稳定性能。</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0in;line-height:
150%'><span lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>2</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）高吞吐量：即使是非常普通的硬件</span><span style='line-height:150%'>Kafka</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>也可以支持每秒数百万的消息。</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0in;line-height:
150%'><span lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>3</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）支持通过</span><span style='line-height:150%'>Kafka</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>服务器和消费机集群来分区消息。</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0in;line-height:
150%'><span lang=ZH-CN style='line-height:150%;font-family:宋体'>（</span><span
style='line-height:150%'>4</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）支持</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>并行数据加载。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>4</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Storm</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Storm</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>用于</span><span style='line-height:150%'>“</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>连续计算</span><span
style='line-height:150%'>”</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>，对数据流做连续查询，在计算时就将结果以流的形式输出给用户。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>5</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Spark</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Spark</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是当前最流行的开源大数据内存计算框架。可以基于</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>上存储的大数据进行计算。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>6</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Oozie</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Oozie</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是一个管理</span><span style='line-height:150%'>Hdoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>作业（</span><span
style='line-height:150%'>job</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）的工作流程调度管理系统。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>7</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Hbase</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>HBase</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是一个分布式的、面向列的开源数据库。</span><span style='line-height:150%'>HBase</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>不同于一般的关系数据库，它是一个适合于非结构化数据存储的数据库。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>8</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Hive</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Hive</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是基于</span><span style='line-height:150%'>Hadoop</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供简单的</span><span
style='line-height:150%'>SQL</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>查询功能，可以将</span><span style='line-height:150%'>SQL</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>语句转换为</span><span
style='line-height:150%'>MapReduce</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>任务进行运行。</span><span lang=ZH-CN style='line-height:150%'> </span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>其优点是学习成本低，可以通过类</span><span
style='line-height:150%'>SQL</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>语句快速实现简单的</span><span style='line-height:150%'>MapReduce</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>统计，不必开发专门的</span><span
style='line-height:150%'>MapReduce</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>应用，十分适合数据仓库的统计分析。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>10</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>R</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>语言：</span><span
style='line-height:150%'>R</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>是用于统计分析、绘图的语言和操作环境。</span><span style='line-height:150%'>R</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>是属于</span><span
style='line-height:150%'>GNU</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>系统的一个自由、免费、源代码开放的软件，它是一个用于统计计算和统计制图的优秀工具。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>11</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>Mahout</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Apache Mahout</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>是个可扩展的机器学习和数据挖掘库。</span></p>

<p class=MsoListParagraph style='text-indent:0in;line-height:150%'><span
style='line-height:150%'>12</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>）</span><span style='line-height:150%'>ZooKeeper</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>：</span><span
style='line-height:150%'>Zookeeper</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>是</span><span style='line-height:150%'>Google</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的</span><span
style='line-height:150%'>Chubby</span><span lang=ZH-CN style='line-height:150%;
font-family:宋体'>一个开源的实现。它是一个针对大型分布式系统的可靠协调系统，提供的功能包括：配置维护、名字服务、</span><span
lang=ZH-CN style='line-height:150%'> </span><span lang=ZH-CN style='line-height:
150%;font-family:宋体'>分布式同步、组服务等。</span><span style='line-height:150%'>ZooKeeper</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体'>的目标就是封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>2.7 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>推荐系统框架图</span></h2>

<p class=MsoNormal><span lang=ZH-CN style='font-family:宋体'>推荐系统项目架构如图</span>2-27<span
lang=ZH-CN style='font-family:宋体'>所示。</span></p>

<p class=MsoNormal style='line-height:200%'><img border=0 width=413 height=234
id="_x0000_i1052" src="尚硅谷大数据技术之Hadoop（入门）.fld/image028.png"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:200%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:200%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:200%'>2-27 </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:200%;font-family:宋体'>推荐系统项目架构</span></p>

<h1 style='margin:0in;margin-bottom:.0001pt'><span lang=ZH-CN style='font-size:
15.0pt;line-height:240%;font-family:宋体'>第</span><span style='font-size:15.0pt;
line-height:240%'>3</span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>章</span><span style='font-size:15.0pt;line-height:240%'>
Hadoop</span><span lang=ZH-CN style='font-size:15.0pt;line-height:240%;
font-family:宋体'>运行环境搭建（开发重点）</span></h1>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>3.1 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>虚拟机环境准备</span></h2>

<p class=MsoNormal>/etc/hosts</p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>克隆虚拟机</span>                                                      </p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>修改克隆虚拟机的静态</span>IP</p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    <span lang=ZH-CN
style='font-family:黑体'>修改主机名</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>4.    <span lang=ZH-CN
style='font-family:黑体'>关闭防火墙</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>5.    <span lang=ZH-CN
style='font-family:黑体'>创建</span>atguigu<span lang=ZH-CN style='font-family:
黑体'>用户</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>6.    <span lang=ZH-CN
style='font-family:黑体'>配置</span>atguigu<span lang=ZH-CN style='font-family:
黑体'>用户具有</span>root<span lang=ZH-CN style='font-family:黑体'>权限（</span><span
lang=ZH-CN style='font-size:10.0pt;font-family:宋体'>详见《尚硅谷大数据技术之</span><span
style='font-size:10.0pt;font-family:宋体'>Linux<span lang=ZH-CN>》</span></span><span
lang=ZH-CN style='font-family:黑体'>）</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>7<span lang=ZH-CN
style='font-family:黑体'>．在</span>/opt<span lang=ZH-CN style='font-family:黑体'>目录下创建文件夹</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）在</span>/opt<span lang=ZH-CN style='font-family:宋体'>目录下创建</span>module<span
lang=ZH-CN style='font-family:宋体'>、</span>software<span lang=ZH-CN
style='font-family:宋体'>文件夹</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ sudo mkdir module</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ sudo mkdir software</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）修改</span>module<span
lang=ZH-CN style='font-family:宋体'>、</span>software<span lang=ZH-CN
style='font-family:宋体'>文件夹的所有者</span>cd </p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ sudo chown atguigu:atguigu
module/ software/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ ll</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>总用量</span><span
style='font-size:10.5pt;font-family:"Times New Roman",serif'> 8</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;font-family:"Times New Roman",serif'>drwxr-xr-x. 2
atguigu atguigu 4096 1</span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>月</span><span style='font-size:10.5pt;font-family:"Times New Roman",serif'> 
17 14:37 module</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;font-family:"Times New Roman",serif'>drwxr-xr-x. 2
atguigu atguigu 4096 1</span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>月</span><span style='font-size:10.5pt;font-family:"Times New Roman",serif'> 
17 14:38 software</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>3.2 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>安装</span><span
style='font-size:14.0pt;line-height:172%;font-family:"Times New Roman",serif'>JDK</span></h2>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>卸载现有</span>JDK</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）查询是否安装</span>Java<span lang=ZH-CN style='font-family:宋体'>软件：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ rpm -qa | grep java</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）如果安装的版本低于</span>1.7<span lang=ZH-CN style='font-family:宋体'>，卸载该</span>JDK<span
lang=ZH-CN style='font-family:宋体'>：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ sudo rpm -e </span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>软件包</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）查看</span>JDK<span lang=ZH-CN style='font-family:宋体'>安装路径：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 ~]$ which java</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>用</span>SecureCRT<span lang=ZH-CN style='font-family:
黑体'>工具将</span>JDK<span lang=ZH-CN style='font-family:黑体'>导入到</span>opt<span
lang=ZH-CN style='font-family:黑体'>目录下面的</span>software<span lang=ZH-CN
style='font-family:黑体'>文件夹下面，如图</span>2-28<span lang=ZH-CN style='font-family:
黑体'>所示</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=415 height=111
id="图片 38" src="尚硅谷大数据技术之Hadoop（入门）.fld/image029.png" alt="1516413529(1)"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-28  </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>导入</span><span
style='font-size:9.0pt;line-height:150%'>JDK</span></p>

<p class=MsoNormal style='line-height:150%'>“alt+p”<span lang=ZH-CN
style='font-family:宋体'>进入</span>sftp<span lang=ZH-CN style='font-family:宋体'>模式，如图</span>2-29<span
lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=415 height=101
id="图片 39" src="尚硅谷大数据技术之Hadoop（入门）.fld/image030.png" alt="1516413579(1)"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-29 </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>进入</span>sftp<span
lang=ZH-CN style='font-family:宋体'>模式</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>选择</span>jdk1.8<span lang=ZH-CN style='font-family:宋体'>拖入，如图</span>2-30<span
lang=ZH-CN style='font-family:宋体'>，</span>2-31<span lang=ZH-CN
style='font-family:宋体'>所示</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=414 height=99
id="图片 40" src="尚硅谷大数据技术之Hadoop（入门）.fld/image031.png" alt=1516413707></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-30 </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>拖入</span><span
style='font-size:9.0pt;line-height:150%'>jdk1.8</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=415 height=101
id="图片 41" src="尚硅谷大数据技术之Hadoop（入门）.fld/image032.png"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-31 </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>拖入</span><span
style='font-size:9.0pt;line-height:150%'>jdk1.8</span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>完成</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>在</span>Linux<span lang=ZH-CN
style='font-family:黑体'>系统下的</span>opt<span lang=ZH-CN style='font-family:黑体'>目录中查看软件包是否导入成功</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ cd software/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 software]$ ls</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop-2.7.2.tar.gz  jdk-8u144-linux-x64.tar.gz</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>解压</span>JDK<span lang=ZH-CN
style='font-family:黑体'>到</span>/opt/module<span lang=ZH-CN style='font-family:
黑体'>目录下</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 software]$ tar -zxvf
jdk-8u144-linux-x64.tar.gz -C /opt/module/</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>5.    <span lang=ZH-CN
style='font-family:黑体'>配置</span>JDK<span lang=ZH-CN style='font-family:黑体'>环境变量</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）先获取</span>JDK<span
lang=ZH-CN style='font-family:宋体'>路径</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 jdk1.8.0_144]$ pwd</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）打开</span>/etc/profile<span
lang=ZH-CN style='font-family:宋体'>文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 software]$ sudo vi /etc/profile</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在</span>profile<span lang=ZH-CN
style='font-family:宋体'>文件末尾添加</span>JDK<span lang=ZH-CN style='font-family:
宋体'>路径</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#JAVA_HOME</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$JAVA_HOME/bin</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:宋体'>）保存后退出</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>:wq</p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>4<span lang=ZH-CN style='font-family:宋体'>）让修改后的文件生效</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 jdk1.8.0_144]$ source /etc/profile</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>6.    <span lang=ZH-CN
style='font-family:黑体'>测试</span>JDK<span lang=ZH-CN style='font-family:黑体'>是否安装成功</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 jdk1.8.0_144]# java -version</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>java version &quot;1.8.0_144&quot;</span></p>

<p class=MsoNormal style='line-height:150%;punctuation-trim:leading'>         <span
lang=ZH-CN style='font-family:宋体'>注意：重启（如果</span>java -version<span lang=ZH-CN
style='font-family:宋体'>可以用就不用重启）</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 jdk1.8.0_144]$ sync</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 jdk1.8.0_144]$ sudo reboot</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>3.3 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>安装</span><span
style='font-size:14.0pt;line-height:172%;font-family:"Times New Roman",serif'>Hadoop</span></h2>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>0.  Hadoop<span
lang=ZH-CN style='font-family:黑体'>下载地址：</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><a
href="https://archive.apache.org/dist/hadoop/common/hadoop-2.7.2/">https://archive.apache.org/dist/hadoop/common/hadoop-2.7.2/</a></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>用</span>SecureCRT<span lang=ZH-CN
style='font-family:黑体'>工具将</span>hadoop-2.7.2.tar.gz<span lang=ZH-CN
style='font-family:黑体'>导入到</span>opt<span lang=ZH-CN style='font-family:黑体'>目录下面的</span>software<span
lang=ZH-CN style='font-family:黑体'>文件夹下面</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>切换到</span>sftp<span lang=ZH-CN
style='font-family:宋体'>连接页面，选择</span>Linux<span lang=ZH-CN style='font-family:
宋体'>下编译的</span>hadoop jar<span lang=ZH-CN style='font-family:宋体'>包拖入，如图</span>2-32<span
lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=415 height=82
id="图片 44" src="尚硅谷大数据技术之Hadoop（入门）.fld/image033.png" alt="1516414194(1)"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-32 </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>拖入</span>hadoop<span
lang=ZH-CN style='font-family:宋体'>的</span>tar<span lang=ZH-CN style='font-family:
宋体'>包</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=415 height=163
id="图片 45" src="尚硅谷大数据技术之Hadoop（入门）.fld/image034.png" alt="1516414274(1)"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-33 </span><span lang=ZH-CN
style='font-size:9.0pt;line-height:150%;font-family:宋体'>拖入</span>Hadoop<span
lang=ZH-CN style='font-family:宋体'>的</span>tar<span lang=ZH-CN style='font-family:
宋体'>包成功</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>进入到</span>Hadoop<span lang=ZH-CN
style='font-family:黑体'>安装包路径下</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 ~]$ cd /opt/software/</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>解压安装文件到</span>/opt/module<span lang=ZH-CN
style='font-family:黑体'>下面</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 software]$ tar -zxvf
hadoop-2.7.2.tar.gz -C /opt/module/</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>查看是否解压成功</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 software]$ ls /opt/module/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop-2.7.2</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>5.    <span lang=ZH-CN
style='font-family:黑体'>将</span>Hadoop<span lang=ZH-CN style='font-family:黑体'>添加到环境变量</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）获取</span>Hadoop<span
lang=ZH-CN style='font-family:宋体'>安装路径</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ pwd</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>/opt/module/hadoop-2.7.2</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）打开</span>/etc/profile<span
lang=ZH-CN style='font-family:宋体'>文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sudo vi /etc/profile</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在</span>profile<span lang=ZH-CN
style='font-family:宋体'>文件末尾添加</span>JDK<span lang=ZH-CN style='font-family:
宋体'>路径：（</span>shitf+g<span lang=ZH-CN style='font-family:宋体'>）</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>##HADOOP_HOME</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export HADOOP_HOME=/opt/module/hadoop-2.7.2</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$HADOOP_HOME/bin</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$HADOOP_HOME/sbin</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）保存后退出</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>:wq</p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>4<span lang=ZH-CN style='font-family:宋体'>）让修改后的文件生效</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@ hadoop101 hadoop-2.7.2]$ source /etc/profile</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>6.    <span lang=ZH-CN
style='font-family:黑体'>测试是否安装成功</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ hadoop version</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>Hadoop 2.7.2</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>7.    <span lang=ZH-CN
style='font-family:黑体'>重启</span>(<span lang=ZH-CN style='font-family:黑体'>如果</span>Hadoop<span
lang=ZH-CN style='font-family:黑体'>命令不能用再重启</span>)</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@ hadoop101 hadoop-2.7.2]$ sync</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@ hadoop101 hadoop-2.7.2]$ sudo reboot</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>3.4 Hadoop</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>目录结构</span></h2>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1<span lang=ZH-CN
style='font-family:黑体'>、查看</span>Hadoop<span lang=ZH-CN style='font-family:
黑体'>目录结构</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ ll</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>总用量</span><span
style='font-size:10.5pt'> 52</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 2 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 <b><span style='color:black'>bin</span></b></span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 3 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 <b>etc</b></span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 2 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 include</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 3 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 <b>lib</b></span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 2 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 libexec</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>-rw-r--r--. 1 atguigu atguigu 15429 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 LICENSE.txt</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>-rw-r--r--. 1 atguigu atguigu   101 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 NOTICE.txt</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>-rw-r--r--. 1 atguigu atguigu  1366 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 README.txt</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 2 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 <b>sbin</b></span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>drwxr-xr-x. 4 atguigu atguigu  4096 5</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>月</span><span
style='font-size:10.5pt'>  22 2017 <b>share</b></span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2<span lang=ZH-CN
style='font-family:黑体'>、重要目录</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）</span>bin<span
lang=ZH-CN style='font-family:宋体'>目录：存放对</span>Hadoop<span lang=ZH-CN
style='font-family:宋体'>相关服务（</span>HDFS,YARN<span lang=ZH-CN style='font-family:
宋体'>）进行操作的脚本</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）</span>etc<span
lang=ZH-CN style='font-family:宋体'>目录：</span>Hadoop<span lang=ZH-CN
style='font-family:宋体'>的配置文件目录，存放</span>Hadoop<span lang=ZH-CN
style='font-family:宋体'>的配置文件</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>3<span lang=ZH-CN style='font-family:宋体'>）</span>lib<span
lang=ZH-CN style='font-family:宋体'>目录：存放</span>Hadoop<span lang=ZH-CN
style='font-family:宋体'>的本地库（对数据进行压缩解压缩功能）</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>4<span lang=ZH-CN style='font-family:宋体'>）</span>sbin<span
lang=ZH-CN style='font-family:宋体'>目录：存放启动或停止</span>Hadoop<span lang=ZH-CN
style='font-family:宋体'>相关服务的脚本</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>5<span lang=ZH-CN style='font-family:宋体'>）</span>share<span
lang=ZH-CN style='font-family:宋体'>目录：存放</span>Hadoop<span lang=ZH-CN
style='font-family:宋体'>的依赖</span>jar<span lang=ZH-CN style='font-family:宋体'>包、文档、和官方案例</span></p>

<h1 style='margin:0in;margin-bottom:.0001pt'><span lang=ZH-CN style='font-size:
15.0pt;line-height:240%;font-family:宋体'>第</span><span style='font-size:15.0pt;
line-height:240%'>4</span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>章</span><span style='font-size:15.0pt;line-height:240%'>
Hadoop</span><span lang=ZH-CN style='font-size:15.0pt;line-height:240%;
font-family:宋体'>运行模式</span></h1>

<p class=MsoNormal style='line-height:150%'>Hadoop<span lang=ZH-CN
style='font-family:宋体'>运行模式包括：本地模式、伪分布式模式以及完全分布式模式。</span></p>

<p class=MsoNormal style='line-height:150%'>Hadoop<span lang=ZH-CN
style='font-family:宋体'>官方网站：</span><a href="http://hadoop.apache.org/"><span
style='color:windowtext;text-decoration:none'>http://hadoop.apache.org/</span></a></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>4.1 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>本地运行模式</span></h2>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.1.1 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>官方</span><span style='font-size:14.0pt;
line-height:172%'>Grep</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>案例</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>创建在</span>hadoop-2.7.2<span lang=ZH-CN style='font-family:
黑体'>文件下面创建一个</span>input<span lang=ZH-CN style='font-family:黑体'>文件夹</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ mkdir input</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>将</span>Hadoop<span lang=ZH-CN style='font-family:黑体'>的</span>xml<span
lang=ZH-CN style='font-family:黑体'>配置文件复制到</span>input</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ cp etc/hadoop/*.xml
input</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    <span lang=ZH-CN
style='font-family:黑体'>执行</span>share<span lang=ZH-CN style='font-family:黑体'>目录下的</span>MapReduce<span
lang=ZH-CN style='font-family:黑体'>程序</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hadoop jar</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar
grep input output 'dfs[a-z.]+'</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>4.    <span lang=ZH-CN
style='font-family:黑体'>查看输出结果</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ cat output/*</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.1.2 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>官方</span><span style='font-size:14.0pt;
line-height:172%'>WordCount</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>案例</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>创建在</span>hadoop-2.7.2<span lang=ZH-CN style='font-family:
黑体'>文件下面创建一个</span>wcinput<span lang=ZH-CN style='font-family:黑体'>文件夹</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ mkdir wcinput</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>在</span>wcinput<span lang=ZH-CN style='font-family:黑体'>文件下创建一个</span>wc.input<span
lang=ZH-CN style='font-family:黑体'>文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ cd wcinput</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 wcinput]$ touch wc.input</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    <span lang=ZH-CN
style='font-family:黑体'>编辑</span>wc.input<span lang=ZH-CN style='font-family:
黑体'>文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 wcinput]$ vi wc.input</span></p>

<p class=MsoNormal style='text-indent:31.5pt;line-height:16.5pt;punctuation-trim:
leading'><span lang=ZH-CN style='font-family:宋体'>在文件中输入如下内容</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop yarn</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop mapreduce</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>atguigu</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>atguigu</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>保存退出：：</span>wq</p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>4.    <span lang=ZH-CN
style='font-family:黑体'>回到</span>Hadoop<span lang=ZH-CN style='font-family:黑体'>目录</span>/opt/module/hadoop-2.7.2</p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>5.    <span lang=ZH-CN
style='font-family:黑体'>执行程序</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><a
name="_Hlk510198857"><span style='font-size:10.5pt'>[atguigu@hadoop101
hadoop-2.7.2]$ hadoop jar</span></a></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'> share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar
wordcount wcinput wcoutput</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>6.    <span lang=ZH-CN
style='font-family:黑体'>查看结果</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ cat
wcoutput/part-r-00000</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>atguigu 2</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop  2</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>mapreduce       1</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>yarn    1</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>4.2 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>伪分布式运行模式</span></h2>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.2.1 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>启动</span><span style='font-size:14.0pt;
line-height:172%'>HDFS</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>并运行</span><span style='font-size:14.0pt;
line-height:172%'>MapReduce</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>程序</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>分析</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）配置集群</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）启动、测试集群增、删、查</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:宋体'>）执行</span>WordCount<span
lang=ZH-CN style='font-family:宋体'>案例</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>执行步骤</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）配置集群</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>a<span lang=ZH-CN style='font-family:宋体'>）配置：</span>hadoop-env.sh</p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'>Linux<span lang=ZH-CN style='font-family:宋体'>系统中获取</span>JDK<span
lang=ZH-CN style='font-family:宋体'>的安装路径：</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@ hadoop101 ~]# echo $JAVA_HOME</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>修改</span>JAVA_HOME <span
lang=ZH-CN style='font-family:宋体'>路径：</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>b<span lang=ZH-CN
style='font-family:宋体'>）配置：</span>core-site.xml</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:53.7pt;border-collapse:collapse'>
 <tr style='height:125.05pt'>
  <td width=363 valign=top style='width:362.8pt;padding:0in 5.4pt 0in 5.4pt;
  height:125.05pt'>
  <p class=a><span style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN
  style='font-size:10.5pt;font-family:宋体'>指定</span><span style='font-size:10.5pt'>HDFS</span><span
  lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>中</span><span
  style='font-size:10.5pt'>NameNode</span><span lang=ZH-CN style='font-size:
  10.5pt;font-family:宋体'>的地址</span><span style='font-size:10.5pt'> --&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;property&gt;</span></p>
  <p class=a style='text-indent:21.0pt;punctuation-trim:leading'><span
  style='font-size:10.5pt'>&lt;name&gt;<a name="OLE_LINK2"><a name="OLE_LINK1">fs.defaultFS</a>&lt;/name&gt;</a></span></p>
  <p class=a><span style='font-size:10.5pt'>   
  &lt;value&gt;hdfs://hadoop101:9000&lt;/value&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;/property&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&nbsp;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN
  style='font-size:10.5pt;font-family:宋体'>指定</span><span style='font-size:10.5pt'>Hadoop</span><span
  lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>运行时产生文件的存储目录</span><span
  style='font-size:10.5pt'> --&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;property&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>    &lt;name&gt;<a name="OLE_LINK4"><a
  name="OLE_LINK3">hadoop.tmp.dir</a>&lt;/name&gt;</a></span></p>
  <p class=a><span style='font-size:10.5pt'>    &lt;value&gt;/opt/module/hadoop-2.7.2/data/tmp&lt;/value&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;/property&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>c<span lang=ZH-CN
style='font-family:宋体'>）配置：</span>hdfs-site.xml</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:54.45pt;border-collapse:collapse'>
 <tr style='height:66.4pt'>
  <td width=362 valign=top style='width:362.05pt;padding:0in 5.4pt 0in 5.4pt;
  height:66.4pt'>
  <p class=a><a name="OLE_LINK9"><a name="OLE_LINK8"><a name="OLE_LINK7"><span
  style='font-size:10.5pt'>&lt;!-- </span></a></a></a><span lang=ZH-CN
  style='font-size:10.5pt;font-family:宋体'>指定</span><span style='font-size:10.5pt'>HDFS</span><span
  lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>副本的数量</span><span
  style='font-size:10.5pt'> --&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;property&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>    &lt;name&gt;<a name="OLE_LINK6"><a
  name="OLE_LINK5">dfs.replication</a>&lt;/name&gt;</a></span></p>
  <p class=a><span style='font-size:10.5pt'>    &lt;value&gt;1&lt;/value&gt;</span></p>
  <p class=a><span style='font-size:10.5pt'>&lt;/property&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）启动集群</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）<b><span style='color:red'>格式化</span></b></span><b><span
style='color:red'>NameNode</span></b><span lang=ZH-CN style='font-family:宋体'>（第一次启动时格式化，以后就不要总格式化）</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs namenode
-format</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>b<span lang=ZH-CN style='font-family:宋体'>）启动</span>NameNode</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$
sbin/hadoop-daemon.sh start namenode</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>c<span lang=ZH-CN style='font-family:宋体'>）启动</span>DataNode</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$
sbin/hadoop-daemon.sh start datanode</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）查看集群</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>a<span lang=ZH-CN style='font-family:宋体'>）查看是否启动成功</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>13586 NameNode</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>13668 DataNode</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>13786 Jps</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体;color:red'>注意：</span><span
style='color:red'>jps</span><span lang=ZH-CN style='font-family:宋体;color:red'>是</span><span
style='color:red'>JDK</span><span lang=ZH-CN style='font-family:宋体;color:red'>中的命令，不是</span><span
style='color:red'>Linux</span><span lang=ZH-CN style='font-family:宋体;
color:red'>命令。不安装</span><span style='color:red'>JDK</span><span lang=ZH-CN
style='font-family:宋体;color:red'>不能使用</span><span style='color:red'>jps</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>b<span lang=ZH-CN style='font-family:宋体'>）</span>web<span
lang=ZH-CN style='font-family:宋体'>端查看</span>HDFS<span lang=ZH-CN
style='font-family:宋体'>文件系统</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><a name="OLE_LINK13"><a name="OLE_LINK12"><a
href="http://hadoop101:50070/dfshealth.html#tab-overview">http://hadoop101:50070/dfshealth.html#tab-overview</a></a></a></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>注意：如果不能查看，看如下帖子处理</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><a href="http://www.cnblogs.com/zlslch/p/6604189.html"><span
style='color:windowtext;text-decoration:none'>http://www.cnblogs.com/zlslch/p/6604189.html</span></a></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>c<span lang=ZH-CN style='font-family:宋体'>）查看产生的</span>Log<span
lang=ZH-CN style='font-family:宋体'>日志</span></p>

<p class=MsoNormal style='line-height:150%'>               <span
style='color:red'> </span><span lang=ZH-CN style='font-family:宋体;color:red'>说明：在企业中遇到</span><span
style='color:red'>Bug</span><span lang=ZH-CN style='font-family:宋体;color:red'>时，经常根据日志提示信息去分析问题、解决</span><span
style='color:red'>Bug</span><span lang=ZH-CN style='font-family:宋体;color:red'>。</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>当前目录：</span>/opt/module/hadoop-2.7.2/logs</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 logs]$ ls</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop-atguigu-datanode-hadoop.atguigu.com.log</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop-atguigu-datanode-hadoop.atguigu.com.out</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop-atguigu-namenode-hadoop.atguigu.com.log</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop-atguigu-namenode-hadoop.atguigu.com.out</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>SecurityAuth-root.audit</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 logs]# cat hadoop-atguigu-datanode-hadoop101.log</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:10.5pt;line-height:
150%'><b><span lang=ZH-CN style='font-family:宋体;color:red'>（</span><span
style='color:red'>d</span></b><b><span lang=ZH-CN style='font-family:宋体;
color:red'>）思考：为什么不能一直格式化</span><span style='color:red'>NameNode</span></b><b><span
lang=ZH-CN style='font-family:宋体;color:red'>，格式化</span><span style='color:red'>NameNode</span></b><b><span
lang=ZH-CN style='font-family:宋体;color:red'>，要注意什么？</span></b></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ cd
data/tmp/dfs/name/current/</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 current]$ cat VERSION</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><b><span
style='font-size:10.5pt'>clusterID=CID-f0330a58-36fa-4a2a-a65f-2688269b5837</span></b></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ cd
data/tmp/dfs/data/current/</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><b><span
style='font-size:10.5pt'>clusterID=CID-f0330a58-36fa-4a2a-a65f-2688269b5837</span></b></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><b><span
style='font-size:10.5pt'>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-left:52.5pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体;color:red'>注意：格式化</span><span
style='color:red'>NameNode</span><span lang=ZH-CN style='font-family:宋体;
color:red'>，会产生新的集群</span><span style='color:red'>id,</span><span lang=ZH-CN
style='font-family:宋体;color:red'>导致</span><span style='color:red'>NameNode</span><span
lang=ZH-CN style='font-family:宋体;color:red'>和</span><span style='color:red'>DataNode</span><span
lang=ZH-CN style='font-family:宋体;color:red'>的集群</span><span style='color:red'>id</span><span
lang=ZH-CN style='font-family:宋体;color:red'>不一致，集群找不到已往数据。所以，格式</span><span
style='color:red'>NameNode</span><span lang=ZH-CN style='font-family:宋体;
color:red'>时，一定要先删除</span><span style='color:red'>data</span><span lang=ZH-CN
style='font-family:宋体;color:red'>数据和</span><span style='color:red'>log</span><span
lang=ZH-CN style='font-family:宋体;color:red'>日志，然后再格式化</span><span
style='color:red'>NameNode</span><span lang=ZH-CN style='font-family:宋体;
color:red'>。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>4<span lang=ZH-CN style='font-family:
宋体'>）操作集群</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>a<span lang=ZH-CN style='font-family:宋体'>）在</span>HDFS<span
lang=ZH-CN style='font-family:宋体'>文件系统上<b>创建</b>一个</span>input<span lang=ZH-CN
style='font-family:宋体'>文件夹</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -mkdir
-p /user/atguigu/input</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>b<span lang=ZH-CN style='font-family:宋体'>）将测试文件内容<b>上传</b>到文件系统上</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$bin/hdfs dfs -put
wcinput/wc.input</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>  /user/atguigu/input/</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>c<span lang=ZH-CN style='font-family:宋体'>）<b>查看</b>上传的文件是否正确</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -ls 
/user/atguigu/input/</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -cat 
/user/atguigu/ input/wc.input</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>d<span lang=ZH-CN style='font-family:宋体'>）运行</span>MapReduce<span
lang=ZH-CN style='font-family:宋体'>程序</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hadoop jar</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar
wordcount /user/atguigu/input/ /user/atguigu/output</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>e<span lang=ZH-CN style='font-family:宋体'>）查看输出结果</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
16.5pt;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>命令行查看：</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -cat
/user/atguigu/output/*</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>浏览器查看，如图</span>2-34<span
lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoNormal><img border=0 width=416 height=86 id="_x0000_i1065"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image035.png"></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-34
</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体'>查看</span><span
style='font-size:9.0pt'>output</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体'>文件</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>f<span lang=ZH-CN style='font-family:宋体'>）将测试文件内容<b>下载</b>到本地</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ hdfs dfs -get
/user/atguigu/output/part-r-00000 ./wcoutput/</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>g<span lang=ZH-CN
style='font-family:宋体'>）<b>删除</b>输出结果</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ hdfs dfs -rm -r
/user/atguigu/output</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.2.2 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>启动</span><span style='font-size:14.0pt;
line-height:172%'>YARN</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>并运行</span><span style='font-size:14.0pt;
line-height:172%'>MapReduce</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>程序</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>分析</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）配置集群在</span>YARN<span
lang=ZH-CN style='font-family:宋体'>上运行</span>MR</p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）启动、测试集群增、删、查</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:宋体'>）在</span>YARN<span
lang=ZH-CN style='font-family:宋体'>上执行</span>WordCount<span lang=ZH-CN
style='font-family:宋体'>案例</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>执行步骤</span>      </p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）配置集群</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>a<span lang=ZH-CN style='font-family:宋体'>）配置</span>yarn-env.sh</p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>配置一下</span>JAVA_HOME</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>b<span lang=ZH-CN
style='font-family:宋体'>）配置</span>yarn-site.xml</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- Reducer</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>获取数据的方式</span><span style='font-size:
10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>指定</span><span style='font-size:10.5pt'>YARN</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>的</span><span
style='font-size:10.5pt'>ResourceManager</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>的地址</span><span style='font-size:10.5pt'>
--&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:52.5pt;text-indent:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span></p>

<p class=a style='margin-left:52.5pt;text-indent:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;value&gt;hadoop101&lt;/value&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>c<span lang=ZH-CN style='font-family:宋体'>）配置：</span>mapred-env.sh</p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>配置一下</span>JAVA_HOME</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>d<span lang=ZH-CN style='font-family:宋体'>）配置：</span>
(<span lang=ZH-CN style='font-family:宋体'>对</span>mapred-site.xml.template<span
lang=ZH-CN style='font-family:宋体'>重新命名为</span>) mapred-site.xml</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop]$ mv mapred-site.xml.template
mapred-site.xml</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop]$ vi mapred-site.xml</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><a
name="OLE_LINK47"><a name="OLE_LINK11"><a name="OLE_LINK10"><span
style='font-size:10.5pt'>&lt;!-- </span></a></a></a><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>指定</span><span style='font-size:10.5pt'>MR</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>运行在</span><span
style='font-size:10.5pt'>YARN</span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>上</span><span style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>      &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>      &lt;value&gt;yarn&lt;/value&gt;</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）启动集群</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）启动前必须保证</span>NameNode<span lang=ZH-CN
style='font-family:宋体'>和</span>DataNode<span lang=ZH-CN style='font-family:
宋体'>已经启动</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>b<span lang=ZH-CN
style='font-family:宋体'>）启动</span>ResourceManager</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sbin/yarn-daemon.sh
start resourcemanager</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>c<span lang=ZH-CN
style='font-family:宋体'>）启动</span>NodeManager</p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sbin/yarn-daemon.sh
start nodemanager</span></p>

<p class=MsoNormal style='line-height:150%'><span style='color:black'>       </span><span
lang=ZH-CN style='font-family:宋体;color:black'>（</span><span style='color:black'>3</span><span
lang=ZH-CN style='font-family:宋体;color:black'>）集群操作</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）</span>YARN<span lang=ZH-CN style='font-family:宋体'>的浏览器页面查看，如图</span>2-35<span
lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt;line-height:
150%'><span style='color:#7030A0'>http://hadoop101:8088/cluster</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=416 height=101
id="_x0000_i1064" src="尚硅谷大数据技术之Hadoop（入门）.fld/image036.png"></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>图</span><span
style='font-size:9.0pt;line-height:150%'>2-35 </span>YARN<span lang=ZH-CN
style='font-family:宋体'>的浏览器页面</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>b<span lang=ZH-CN style='font-family:宋体'>）删除文件系统上的</span>output<span
lang=ZH-CN style='font-family:宋体'>文件</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -rm -R
/user/atguigu/output</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>c<span lang=ZH-CN style='font-family:宋体'>）执行</span>MapReduce<span
lang=ZH-CN style='font-family:宋体'>程序</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hadoop jar</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'> share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar
wordcount /user/atguigu/input  /user/atguigu/output</span></p>

<p class=MsoNormal style='line-height:150%'><span style='color:red'>              </span><span
lang=ZH-CN style='font-family:宋体'>（</span>d<span lang=ZH-CN style='font-family:
宋体'>）查看运行结果，如图</span>2-36<span lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -cat
/user/atguigu/output/*</span></p>

<p class=MsoNormal><img border=0 width=415 height=75 id="_x0000_i1063"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image037.png"></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-36
</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体'>查看运行结果</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.2.3 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>配置历史服务器</span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体'>为了查看程序的历史运行情况，需要配置一下历史服务器。具体配置步骤如下：</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>配置</span>mapred-site.xml</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><a
name="_Hlk510199816"><span style='font-size:10.5pt'>[atguigu@hadoop101 hadoop]$
vi mapred-site.xml</span></a></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件里面增加如下配置。</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><a
name="OLE_LINK40"><a name="OLE_LINK39"><a name="OLE_LINK38"><a name="OLE_LINK37"><a
name="_Hlk510199859"><span style='font-size:10.5pt'>&lt;!-- </span></a></a></a></a></a><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>历史服务器端地址</span><span
style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;text-indent:21.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;text-indent:21.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;value&gt;hadoop101:10020&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>历史服务器</span><span style='font-size:10.5pt'>web</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>端地址</span><span
style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>   
&lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>    &lt;value&gt;hadoop101:19888&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>启动历史服务器</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$
sbin/mr-jobhistory-daemon.sh start historyserver</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    <span lang=ZH-CN
style='font-family:黑体'>查看历史服务器是否启动</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ jps</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>4.    <span lang=ZH-CN
style='font-family:黑体'>查看</span>JobHistory</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><a
name="OLE_LINK49"><a href="http://hadoop101:19888/jobhistory">http://hadoop101:19888/jobhistory</a></a></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.2.4 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>配置日志的聚集</span></h3>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>日志聚集概念：应用运行完成以后，将程序运行日志信息上传到</span>HDFS<span
lang=ZH-CN style='font-family:宋体'>系统上。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>日志聚集功能好处：可以方便的查看到程序运行详情，方便开发调试。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体;color:red'>注意：开启日志聚集功能，需要重新启动</span><span
style='color:red'>NodeManager </span><span lang=ZH-CN style='font-family:宋体;
color:red'>、</span><span style='color:red'>ResourceManager</span><span
lang=ZH-CN style='font-family:宋体;color:red'>和</span><span style='color:red'>HistoryManager</span><span
lang=ZH-CN style='font-family:宋体;color:red'>。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>开启日志聚集功能具体步骤如下：</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>配置</span>yarn-site.xml</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop]$ vi yarn-site.xml</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><a name="OLE_LINK54"><a name="OLE_LINK53"><a name="OLE_LINK52"><a
name="OLE_LINK51"><a name="OLE_LINK50"><a name="OLE_LINK48"><a name="OLE_LINK36"><a
name="OLE_LINK35"><a name="OLE_LINK34"><a name="OLE_LINK33"><a name="OLE_LINK32"><a
name="OLE_LINK31"><a name="OLE_LINK30"><a name="OLE_LINK29"><a name="OLE_LINK28"><a
name="OLE_LINK27"><a name="OLE_LINK26"><a name="OLE_LINK25"><a name="OLE_LINK24"><a
name="OLE_LINK23"><a name="OLE_LINK22"><span lang=ZH-CN style='font-family:
宋体'>在该文件里面增加如下配置。</span></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>日志聚集功能使能</span><span style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;text-indent:21.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;text-indent:21.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;value&gt;true&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>日志保留时间设置</span><span style='font-size:10.5pt'>7</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>天</span><span
style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;text-indent:21.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;text-indent:21.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;value&gt;604800&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>关闭</span>NodeManager <span lang=ZH-CN
style='font-family:黑体'>、</span>ResourceManager<span lang=ZH-CN
style='font-family:黑体'>和</span>HistoryServer</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sbin/yarn-daemon.sh
stop resourcemanager</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sbin/yarn-daemon.sh
stop nodemanager</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$
sbin/mr-jobhistory-daemon.sh stop historyserver</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>启动</span>NodeManager <span lang=ZH-CN
style='font-family:黑体'>、</span>ResourceManager<span lang=ZH-CN
style='font-family:黑体'>和</span>HistoryServer</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sbin/yarn-daemon.sh
start resourcemanager</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ sbin/yarn-daemon.sh
start nodemanager</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ <a name="OLE_LINK42"><a
name="OLE_LINK41">sbin/mr-jobhistory-daemon.sh start historyserver</a></a></span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>删除</span>HDFS<span lang=ZH-CN
style='font-family:黑体'>上已经存在的输出文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ bin/hdfs dfs -rm -R
/user/atguigu/output</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>执行</span>WordCount<span lang=ZH-CN
style='font-family:黑体'>程序</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 hadoop-2.7.2]$ hadoop jar</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'> share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar
wordcount /user/atguigu/input /user/atguigu/output</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>查看日志，如图</span>2-37<span lang=ZH-CN
style='font-family:黑体'>，</span>2-38<span lang=ZH-CN style='font-family:黑体'>，</span>2-39<span
lang=ZH-CN style='font-family:黑体'>所示</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><a href="http://hadoop101:19888/jobhistory">http://hadoop101:19888/jobhistory</a></p>

<p class=MsoNormal><img border=0 width=415 height=142 id="_x0000_i1062"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image038.png"></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-37
 Job History</span></p>

<p class=MsoNormal><img border=0 width=415 height=191 id="_x0000_i1061"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image039.png"></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-38
job</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体'>运行情况</span></p>

<p class=MsoNormal><img border=0 width=415 height=189 id="_x0000_i1060"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image040.png"></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体'>图</span><span style='font-size:9.0pt'>2-39
</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体'>查看日志</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.2.5 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>配置文件说明</span></h3>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'>Hadoop<span
lang=ZH-CN style='font-family:宋体'>配置文件分两类：默认配置文件和自定义配置文件，只有用户想修改某一默认配置值时，才需要修改自定义配置文件，更改相应属性值。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）默认配置文件：</span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:黑体'>表</span><span
style='font-size:9.0pt;line-height:150%;font-family:"Arial",sans-serif'>2-1</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:28.35pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=113 valign=top style='width:113.4pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=ZH-CN
  style='font-family:宋体'>要获取的默认文件</span></p>
  </td>
  <td width=273 valign=top style='width:273.05pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=ZH-CN
  style='font-family:宋体'>文件存放在</span>Hadoop<span lang=ZH-CN style='font-family:
  宋体'>的</span>jar<span lang=ZH-CN style='font-family:宋体'>包中的位置</span></p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>[core-default.xml]</p>
  </td>
  <td width=273 valign=top style='width:273.05pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>hadoop-common-2.7.2.jar/
  core-default.xml</p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>[hdfs-default.xml]</p>
  </td>
  <td width=273 valign=top style='width:273.05pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>hadoop-hdfs-2.7.2.jar/
  hdfs-default.xml</p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>[yarn-default.xml]</p>
  </td>
  <td width=273 valign=top style='width:273.05pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>hadoop-yarn-common-2.7.2.jar/
  yarn-default.xml</p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>[mapred-default.xml]</p>
  </td>
  <td width=273 valign=top style='width:273.05pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>hadoop-mapreduce-client-core-2.7.2.jar/
  mapred-default.xml</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）自定义配置文件：</span></p>

<p class=MsoNormal style='line-height:150%'>       <b>core-site.xml</b><b><span
lang=ZH-CN style='font-family:宋体'>、</span>hdfs-site.xml</b><b><span lang=ZH-CN
style='font-family:宋体'>、</span>yarn-site.xml</b><b><span lang=ZH-CN
style='font-family:宋体'>、</span>mapred-site.xml</b><span lang=ZH-CN
style='font-family:宋体'>四个配置文件存放在</span>$HADOOP_HOME/etc/hadoop<span lang=ZH-CN
style='font-family:宋体'>这个路径上，用户可以根据项目需求重新进行修改配置。</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>4.3 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>完全分布式运行模式（开发重点）</span></h2>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>分析：</span></p>

<p class=MsoNormal style='line-height:150%'>       1<span lang=ZH-CN
style='font-family:宋体'>）准备</span>3<span lang=ZH-CN style='font-family:宋体'>台客户机（<span
style='color:red'>关闭防火墙、静态</span></span><span style='color:red'>ip</span><span
lang=ZH-CN style='font-family:宋体;color:red'>、主机名称</span><span lang=ZH-CN
style='font-family:宋体'>）</span></p>

<p class=MsoNormal style='line-height:150%'>       2<span lang=ZH-CN
style='font-family:宋体'>）安装</span>JDK</p>

<p class=MsoNormal style='line-height:150%'>       3<span lang=ZH-CN
style='font-family:宋体'>）配置环境变量</span></p>

<p class=MsoNormal style='line-height:150%'>       4<span lang=ZH-CN
style='font-family:宋体'>）安装</span>Hadoop</p>

<p class=MsoNormal style='line-height:150%'>       5<span lang=ZH-CN
style='font-family:宋体'>）配置环境变量</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'>6<span
lang=ZH-CN style='font-family:宋体'>）配置集群</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'>7<span
lang=ZH-CN style='font-family:宋体'>）单点启动</span></p>

<p class=MsoNormal style='line-height:150%'>       8<span lang=ZH-CN
style='font-family:宋体'>）配置</span>ssh</p>

<p class=MsoNormal style='line-height:150%'>       9<span lang=ZH-CN
style='font-family:宋体'>）群起并测试集群</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.1 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>虚拟机准备</span></h3>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体;color:red;background:yellow'>详见</span><span
style='color:red;background:yellow'>3.1</span><span lang=ZH-CN
style='font-family:宋体;color:red;background:yellow'>章。</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.2 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>编写集群分发脚本</span><span style='font-size:14.0pt;
line-height:172%'>xsync</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    scp<span
lang=ZH-CN style='font-family:黑体'>（</span>secure copy<span lang=ZH-CN
style='font-family:黑体'>）安全<span style='color:red'>拷贝</span></span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）</span>scp<span lang=ZH-CN style='font-family:宋体'>定义：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>scp<span lang=ZH-CN style='font-family:宋体'>可以实现服务器与服务器之间的数据拷贝。（</span>from
server1 to server2<span lang=ZH-CN style='font-family:宋体'>）</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）基本语法</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'>scp    -r          $pdir/$fname        
     $user@hadoop$host:$pdir/$fname</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=ZH-CN style='font-family:宋体'>命令</span><span lang=ZH-CN> </span>  <span
lang=ZH-CN style='font-family:宋体'>递归</span><span lang=ZH-CN> </span>      <span
lang=ZH-CN style='font-family:宋体'>要拷贝的文件路径</span>/<span lang=ZH-CN
style='font-family:宋体'>名称</span>    <span lang=ZH-CN style='font-family:宋体'>目的用户</span>@<span
lang=ZH-CN style='font-family:宋体'>主机</span>:<span lang=ZH-CN style='font-family:
宋体'>目的路径</span>/<span lang=ZH-CN style='font-family:宋体'>名称</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）案例实操</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）在</span>hadoop101<span lang=ZH-CN style='font-family:
宋体'>上，将</span>hadoop101<span lang=ZH-CN style='font-family:宋体'>中</span>/opt/module<span
lang=ZH-CN style='font-family:宋体'>目录下的软件拷贝到</span>hadoop102<span lang=ZH-CN
style='font-family:宋体'>上。</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop<span style='color:red'>101</span> /]$
scp -r /opt/module  root@hadoop102:/opt/module</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>b<span lang=ZH-CN
style='font-family:宋体'>）在</span>hadoop103<span lang=ZH-CN style='font-family:
宋体'>上，将</span>hadoop101<span lang=ZH-CN style='font-family:宋体'>服务器上的</span>/opt/module<span
lang=ZH-CN style='font-family:宋体'>目录下的软件拷贝到</span>hadoop103<span lang=ZH-CN
style='font-family:宋体'>上。</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop<span style='color:red'>103</span>
opt]$sudo scp -r atguigu@hadoop101:/opt/module root@hadoop103:/opt/module</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>c<span lang=ZH-CN
style='font-family:宋体'>）在</span>hadoop103<span lang=ZH-CN style='font-family:
宋体'>上操作将</span>hadoop101<span lang=ZH-CN style='font-family:宋体'>中</span>/opt/module<span
lang=ZH-CN style='font-family:宋体'>目录下的软件拷贝到</span>hadoop104<span lang=ZH-CN
style='font-family:宋体'>上。</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop<span style='color:red'>103</span>
opt]$ scp -r atguigu@hadoop101:/opt/module root@hadoop104:/opt/module</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=ZH-CN style='font-family:宋体;color:red'>注意：拷贝过来的</span><span
style='color:red'>/opt/module</span><span lang=ZH-CN style='font-family:宋体;
color:red'>目录，别忘了在</span><span style='color:red'>hadoop102</span><span
lang=ZH-CN style='font-family:宋体;color:red'>、</span><span style='color:red'>hadoop103</span><span
lang=ZH-CN style='font-family:宋体;color:red'>、</span><span style='color:red'>hadoop104</span><span
lang=ZH-CN style='font-family:宋体;color:red'>上修改所有文件的，所有者和所有者组。</span><span
style='color:red'>sudo chown atguigu:atguigu -R /opt/module</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>d<span lang=ZH-CN
style='font-family:宋体'>）将</span>hadoop101<span lang=ZH-CN style='font-family:
宋体'>中</span>/etc/profile<span lang=ZH-CN style='font-family:宋体'>文件拷贝到</span>hadoop102<span
lang=ZH-CN style='font-family:宋体'>的</span>/etc/profile<span lang=ZH-CN
style='font-family:宋体'>上。</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 ~]$ sudo scp /etc/profile
root@hadoop102:/etc/profile</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>e<span lang=ZH-CN
style='font-family:宋体'>）将</span>hadoop101<span lang=ZH-CN style='font-family:
宋体'>中</span>/etc/profile<span lang=ZH-CN style='font-family:宋体'>文件拷贝到</span>hadoop103<span
lang=ZH-CN style='font-family:宋体'>的</span>/etc/profile<span lang=ZH-CN
style='font-family:宋体'>上。</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 ~]$ sudo scp /etc/profile
root@hadoop103:/etc/profile</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>f<span lang=ZH-CN
style='font-family:宋体'>）将</span>hadoop101<span lang=ZH-CN style='font-family:
宋体'>中</span>/etc/profile<span lang=ZH-CN style='font-family:宋体'>文件拷贝到</span>hadoop104<span
lang=ZH-CN style='font-family:宋体'>的</span>/etc/profile<span lang=ZH-CN
style='font-family:宋体'>上。</span></p>

<p class=a style='margin-left:52.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 ~]$ sudo scp /etc/profile
root@hadoop104:/etc/profile</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:31.5pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体;color:red'>注意：拷贝过来的配置文件别忘了</span><span
style='color:red'>source</span><span lang=ZH-CN style='font-family:宋体;
color:red'>一下</span><span style='color:red'>/etc/profile</span><span
lang=ZH-CN style='font-family:宋体;color:red'>，。</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.     rsync <span
lang=ZH-CN style='font-family:黑体'>远程<span style='color:red'>同步</span>工具</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'>rsync<span
lang=ZH-CN style='font-family:宋体'>主要用于备份和镜像。具有速度快、避免复制相同内容和支持符号链接的优点。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
style='color:red'>rsync</span><span lang=ZH-CN style='font-family:宋体;
color:red'>和</span><span style='color:red'>scp</span><span lang=ZH-CN
style='font-family:宋体;color:red'>区别：</span><span lang=ZH-CN style='line-height:
150%;font-family:宋体;color:black;background:transparent'>用</span>rsync<span
lang=ZH-CN style='font-family:宋体'>做文件的复制要比</span>scp<span lang=ZH-CN
style='font-family:宋体'>的速度快，</span>rsync<span lang=ZH-CN style='font-family:
宋体'>只对差异文件做更新。</span>scp<span lang=ZH-CN style='font-family:宋体'>是把所有文件都复制过去。</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）基本语法</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt'>rsync    -av    
  $pdir/$fname              $user@hadoop$host:$pdir/$fname</p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt'><span
lang=ZH-CN style='font-family:宋体'>命令</span><span lang=ZH-CN> </span>  <span
lang=ZH-CN style='font-family:宋体'>选项参数</span><span lang=ZH-CN> </span>  <span
lang=ZH-CN style='font-family:宋体'>要拷贝的文件路径</span>/<span lang=ZH-CN
style='font-family:宋体'>名称</span>    <span lang=ZH-CN style='font-family:宋体'>目的用户</span>@<span
lang=ZH-CN style='font-family:宋体'>主机</span>:<span lang=ZH-CN style='font-family:
宋体'>目的路径</span>/<span lang=ZH-CN style='font-family:宋体'>名称</span></p>

<p class=MsoNormal style='line-height:150%'>         <span lang=ZH-CN
style='font-family:宋体'>选项参数说明</span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:黑体'>表</span><span
style='font-size:9.0pt;line-height:150%;font-family:"Arial",sans-serif'>2-2</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=381
 style='margin-left:35.45pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=178 valign=top style='width:177.6pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>选项</span></p>
  </td>
  <td width=203 valign=top style='width:203.45pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>功能</span></p>
  </td>
 </tr>
 <tr>
  <td width=178 valign=top style='width:177.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>-a</span></p>
  </td>
  <td width=203 valign=top style='width:203.45pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>归档拷贝</span></p>
  </td>
 </tr>
 <tr>
  <td width=178 valign=top style='width:177.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>-v</span></p>
  </td>
  <td width=203 valign=top style='width:203.45pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>显示复制过程</span></p>
  </td>
 </tr>
 <tr>
  <td width=178 valign=top style='width:177.6pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  </td>
  <td width=203 valign=top style='width:203.45pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）案例实操</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>a<span lang=ZH-CN style='font-family:宋体'>）把</span>hadoop101<span
lang=ZH-CN style='font-family:宋体'>机器上的</span>/opt/software<span lang=ZH-CN
style='font-family:宋体'>目录同步到</span>hadoop102<span lang=ZH-CN style='font-family:
宋体'>服务器的</span>root<span lang=ZH-CN style='font-family:宋体'>用户下的</span>/opt/<span
lang=ZH-CN style='font-family:宋体'>目录</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop101 opt]$ rsync -av /opt/software/
hadoop102:/opt/software</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    xsync<span
lang=ZH-CN style='font-family:黑体'>集群分发脚本</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）需求：循环复制文件到所有节点的相同目录下</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）需求分析：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）</span>rsync<span lang=ZH-CN style='font-family:宋体'>命令原始拷贝：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>rsync  -av     /opt/module                 root@hadoop103:/opt/</p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>b<span lang=ZH-CN style='font-family:宋体'>）期望脚本：</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>xsync<span lang=ZH-CN style='font-family:宋体'>要同步的文件名称</span></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体;color:red'>（</span><span style='color:red'>c</span><span
lang=ZH-CN style='font-family:宋体;color:red'>）说明：在</span><span style='color:
red'>/home/atguigu/bin</span><span lang=ZH-CN style='font-family:宋体;color:red'>这个目录下存放的脚本，</span><span
style='color:red'>atguigu</span><span lang=ZH-CN style='font-family:宋体;
color:red'>用户可以在系统任何地方直接执行。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）脚本实现</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）在</span>/home/atguigu<span lang=ZH-CN style='font-family:
宋体'>目录下创建</span>bin<span lang=ZH-CN style='font-family:宋体'>目录，并在</span>bin<span
lang=ZH-CN style='font-family:宋体'>目录下</span>xsync<span lang=ZH-CN
style='font-family:宋体'>创建文件，文件内容如下：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 ~]$ mkdir bin</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 ~]$ cd bin/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 bin]$ touch xsync</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 bin]$ vi xsync</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件中编写如下代码</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#!/bin/bash</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#1 </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>获取输入参数个数，如果没有参数，直接退出</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>pcount=$#</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>if ((pcount==0)); then</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>echo no args;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>exit;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>fi</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#2 </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>获取文件名称</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>p1=$1</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>fname=`basename $p1`</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>echo fname=$fname</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#3 </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>获取上级目录到绝对路径</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>pdir=`cd -P $(dirname $p1); pwd`</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>echo pdir=$pdir</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#4 </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>获取当前用户名称</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>user=`whoami`</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#5 </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>循环</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>for((host=103; host&lt;105; host++)); do</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        echo ------------------- hadoop$host
--------------</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        rsync -av $pdir/$fname $user@hadoop$host:$pdir</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>done</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>b<span lang=ZH-CN
style='font-family:宋体'>）修改脚本</span> xsync <span lang=ZH-CN style='font-family:
宋体'>具有执行权限</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 bin]$ chmod 777 xsync</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>c<span lang=ZH-CN
style='font-family:宋体'>）调用脚本形式：</span>xsync <span lang=ZH-CN style='font-family:
宋体'>文件名称</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 bin]$ xsync /home/atguigu/bin</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:10.5pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体;color:red'>注意：如果将</span><span
style='color:red'>xsync</span><span lang=ZH-CN style='font-family:宋体;
color:red'>放到</span><span style='color:red'>/home/atguigu/bin</span><span
lang=ZH-CN style='font-family:宋体;color:red'>目录下仍然不能实现全局使用，可以将</span><span
style='color:red'>xsync</span><span lang=ZH-CN style='font-family:宋体;
color:red'>移动到</span><span style='color:red'>/usr/local/bin</span><span
lang=ZH-CN style='font-family:宋体;color:red'>目录下。</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.3 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>集群配置</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>集群部署规划</span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:黑体'>表</span><span
style='font-size:9.0pt;line-height:150%;font-family:"Arial",sans-serif'>2-3</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:33.75pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=78 valign=top style='width:78.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  </td>
  <td width=99 valign=top style='width:99.2pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>hadoop102 </span></p>
  </td>
  <td width=99 valign=top style='width:99.25pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>hadoop103</span></p>
  </td>
  <td width=106 valign=top style='width:106.3pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>hadoop104</span></p>
  </td>
 </tr>
 <tr>
  <td width=78 valign=top style='width:78.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>HDFS</span></p>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  </td>
  <td width=99 valign=top style='width:99.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>NameNode</span></p>
  <p class=a0><span style='font-size:10.5pt'>DataNode</span></p>
  </td>
  <td width=99 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  <p class=a0><span style='font-size:10.5pt'>DataNode</span></p>
  </td>
  <td width=106 valign=top style='width:106.3pt;border:none;border-bottom:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>SecondaryNameNode</span></p>
  <p class=a0><span style='font-size:10.5pt'>DataNode</span></p>
  </td>
 </tr>
 <tr>
  <td width=78 valign=top style='width:78.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>YARN</span></p>
  </td>
  <td width=99 valign=top style='width:99.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  <p class=a0><span style='font-size:10.5pt'>NodeManager</span></p>
  </td>
  <td width=99 valign=top style='width:99.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>ResourceManager</span></p>
  <p class=a0><span style='font-size:10.5pt'>NodeManager</span></p>
  </td>
  <td width=106 valign=top style='width:106.3pt;border:none;border-bottom:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=a0><span style='font-size:10.5pt'>&nbsp;</span></p>
  <p class=a0><span style='font-size:10.5pt'>NodeManager</span></p>
  </td>
 </tr>
</table>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>配置集群</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）核心配置文件</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>配置</span>core-site.xml</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi core-site.xml</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件中编写如下配置</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>指定</span><span style='font-size:10.5pt'>HDFS</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>中</span><span
style='font-size:10.5pt'>NameNode</span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>的地址</span><span style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;fs.defaultFS&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>      &lt;value&gt;hdfs://<span style='color:red'>hadoop102</span>:9000&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>指定</span><span style='font-size:10.5pt'>Hadoop</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>运行时产生文件的存储目录</span><span
style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;value&gt;/opt/module/hadoop-2.7.2/data/tmp&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）</span>HDFS<span
lang=ZH-CN style='font-family:宋体'>配置文件</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-10.5pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>配置</span>hadoop-env.sh</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi hadoop-env.sh</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-10.5pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>配置</span>hdfs-site.xml</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi hdfs-site.xml</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件中编写如下配置</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;dfs.replication&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;value&gt;3&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>&lt;!-- </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:red'>指定</span><span
style='font-size:10.5pt;color:red'>Hadoop</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:red'>辅助名称节点主机配置</span><span
style='font-size:10.5pt;color:red'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>     
&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>     
&lt;value&gt;hadoop104:50090&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>&lt;/property&gt;</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;line-height:
16.5pt;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>（</span>3<span
lang=ZH-CN style='font-family:宋体'>）</span>YARN<span lang=ZH-CN
style='font-family:宋体'>配置文件</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-10.5pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>配置</span>yarn-env.sh</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi yarn-env.sh</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-10.5pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>配置</span>yarn-site.xml</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi yarn-site.xml</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件中增加如下配置</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- Reducer</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>获取数据的方式</span><span style='font-size:
10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>指定</span><span style='font-size:10.5pt'>YARN</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>的</span><span
style='font-size:10.5pt'>ResourceManager</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>的地址</span><span style='font-size:10.5pt'>
--&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;value&gt;<span style='color:red'>hadoop103</span>&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;line-height:
16.5pt;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>（</span>4<span
lang=ZH-CN style='font-family:宋体'>）</span>MapReduce<span lang=ZH-CN
style='font-family:宋体'>配置文件</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-10.5pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>配置</span>mapred-env.sh</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi mapred-env.sh</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-10.5pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>配置</span>mapred-site.xml</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ cp
mapred-site.xml.template mapred-site.xml</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi mapred-site.xml</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件中增加如下配置</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;!-- </span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>指定</span><span style='font-size:10.5pt'>MR</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体'>运行在</span><span
style='font-size:10.5pt'>Yarn</span><span lang=ZH-CN style='font-size:10.5pt;
font-family:宋体'>上</span><span style='font-size:10.5pt'> --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;property&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     &lt;value&gt;yarn&lt;/value&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/property&gt;</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3<span lang=ZH-CN
style='font-family:黑体'>．在集群上分发配置好的</span>Hadoop<span lang=ZH-CN
style='font-family:黑体'>配置文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ xsync
/opt/module/hadoop-2.7.2/</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>4<span lang=ZH-CN
style='font-family:黑体'>．查看文件分发情况</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop103 hadoop]$ cat
/opt/module/hadoop-2.7.2/etc/hadoop/core-site.xml</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.4 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>集群单点启动</span></h3>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）如果集群是第一次启动，需要<b><span
style='color:red'>格式化</span></b></span><b><span style='color:red'>NameNode</span></b></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ hdfs namenode
-format</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）在</span>hadoop102<span
lang=ZH-CN style='font-family:宋体'>上启动</span>NameNode</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><a
name="_Hlk510200433"><span style='font-size:10.5pt'>[atguigu@hadoop102
hadoop-2.7.2]$ hadoop-daemon.sh start namenode</span></a></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3461 NameNode</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>（</span>3<span lang=ZH-CN style='font-family:宋体'>）在</span>hadoop102<span
lang=ZH-CN style='font-family:宋体'>、</span>hadoop103<span lang=ZH-CN
style='font-family:宋体'>以及</span>hadoop104<span lang=ZH-CN style='font-family:
宋体'>上分别启动</span>DataNode</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ hadoop-daemon.sh
start datanode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3461 NameNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3608 Jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3561 DataNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop103 hadoop-2.7.2]$ hadoop-daemon.sh
start datanode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop103 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3190 DataNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3279 Jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop104 hadoop-2.7.2]$ hadoop-daemon.sh
start datanode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop104 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3237 Jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3163 DataNode</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体;color:red'>（</span><span style='color:red'>4</span><span lang=ZH-CN
style='font-family:宋体;color:red'>）思考：每次都一个一个节点启动，如果节点数增加到</span><span
style='color:red'>1000</span><span lang=ZH-CN style='font-family:宋体;color:red'>个怎么办？</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>早上来了开始一个一个节点启动，到晚上下班刚好完成，下班？</span><img border=0
width=19 height=19 id="图片 3" src="尚硅谷大数据技术之Hadoop（入门）.fld/image041.png"></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.5 SSH</span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>无密登录配置</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>配置</span>ssh</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）基本语法</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>ssh<span lang=ZH-CN style='font-family:宋体'>另一台电脑的</span>ip<span
lang=ZH-CN style='font-family:宋体'>地址</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）</span>ssh<span lang=ZH-CN style='font-family:宋体'>连接时出现</span>Host key
verification failed<span lang=ZH-CN style='font-family:宋体'>的解决方法</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><a
name="_Hlk510200544"><span style='font-size:10.5pt'>[atguigu@hadoop102 opt] $
ssh 192.168.1.103</span></a></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><a
name="OLE_LINK44"><a name="OLE_LINK43"><span style='font-size:10.5pt'>The
authenticity of host '192.168.1.103 (192.168.1.103)' can't be established.</span></a></a></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>RSA key fingerprint is
cf:1e:de:d7:d0:4c:2d:98:60:b4:fd:ae:b1:2d:ad:06.</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>Are you sure you want to continue connecting (yes/no)?
</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>Host key verification failed.</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）解决方案如下：直接输入</span>yes</p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>无密钥配置</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）免密登录原理，如图</span>2-40<span lang=ZH-CN style='font-family:宋体'>所示</span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><img
border=0 width=413 height=234 id="_x0000_i1053"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image042.png"><span lang=ZH-CN style='font-size:
9.0pt;line-height:150%;font-family:宋体'>图</span><span style='font-size:9.0pt;
line-height:150%'>2-40  </span><span lang=ZH-CN style='font-size:9.0pt;
line-height:150%;font-family:宋体'>免密登陆原理</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）生成公钥和私钥：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 .ssh]$ ssh-keygen -t rsa</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>然后敲（三个回车），就会生成两个文件</span>id_rsa<span
lang=ZH-CN style='font-family:宋体'>（私钥）、</span>id_rsa.pub<span lang=ZH-CN
style='font-family:宋体'>（公钥）</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）将公钥拷贝到要免密登录的目标机器上</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 .ssh]$ ssh-copy-id hadoop102</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 .ssh]$ ssh-copy-id hadoop103</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 .ssh]$ ssh-copy-id hadoop104</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体;color:red'>注意：</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt'><span
lang=ZH-CN style='font-family:宋体;color:red'>还需要在</span><span style='color:red'>hadoop102</span><span
lang=ZH-CN style='font-family:宋体;color:red'>上采用</span><span style='color:red'>root</span><span
lang=ZH-CN style='font-family:宋体;color:red'>账号，配置一下无密登录到</span><span
style='color:red'>hadoop102</span><span lang=ZH-CN style='font-family:宋体;
color:red'>、</span><span style='color:red'>hadoop103</span><span lang=ZH-CN
style='font-family:宋体;color:red'>、</span><span style='color:red'>hadoop104</span><span
lang=ZH-CN style='font-family:宋体;color:red'>；</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt'><span
lang=ZH-CN style='font-family:宋体;color:red'>还需要在</span><span style='color:red'>hadoop103</span><span
lang=ZH-CN style='font-family:宋体;color:red'>上采用</span><span style='color:red'>atguigu</span><span
lang=ZH-CN style='font-family:宋体;color:red'>账号配置一下无密登录到</span><span
style='color:red'>hadoop102</span><span lang=ZH-CN style='font-family:宋体;
color:red'>、</span><span style='color:red'>hadoop103</span><span lang=ZH-CN
style='font-family:宋体;color:red'>、</span><span style='color:red'>hadoop104</span><span
lang=ZH-CN style='font-family:宋体;color:red'>服务器上。</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    .ssh<span
lang=ZH-CN style='font-family:黑体'>文件夹下（</span>~/.ssh<span lang=ZH-CN
style='font-family:黑体'>）的文件功能解释</span></p>

<p class=MsoNormal align=center style='text-align:center;line-height:150%'><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:黑体'>表</span><span
style='font-size:9.0pt;line-height:150%;font-family:"Arial",sans-serif'>2-4</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:28.1pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=121 valign=top style='width:120.75pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>known_hosts</p>
  </td>
  <td width=266 valign=top style='width:265.95pt;border-top:solid windowtext 1.0pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=ZH-CN
  style='font-family:宋体'>记录</span>ssh<span lang=ZH-CN style='font-family:宋体'>访问过计算机的公钥</span>(public
  key)</p>
  </td>
 </tr>
 <tr>
  <td width=121 valign=top style='width:120.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>id_rsa</p>
  </td>
  <td width=266 valign=top style='width:265.95pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=ZH-CN
  style='font-family:宋体'>生成的私钥</span></p>
  </td>
 </tr>
 <tr>
  <td width=121 valign=top style='width:120.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>id_rsa.pub</p>
  </td>
  <td width=266 valign=top style='width:265.95pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=ZH-CN
  style='font-family:宋体'>生成的公钥</span></p>
  </td>
 </tr>
 <tr>
  <td width=121 valign=top style='width:120.75pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'>authorized_keys</p>
  </td>
  <td width=266 valign=top style='width:265.95pt;border:none;border-bottom:
  solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='line-height:150%'><span lang=ZH-CN
  style='font-family:宋体'>存放授权过得无密登录服务器公钥</span></p>
  </td>
 </tr>
</table>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.6 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>群起集群</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>配置</span>slaves</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>/opt/module/hadoop-2.7.2/etc/hadoop/slaves</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ vi slaves</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>在该文件中增加如下内容：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop102</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop103</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop104</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体;color:red'>注意：该文件中添加的内容结尾不允许有空格，文件中不允许有空行。</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>同步所有节点配置文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop]$ xsync slaves</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>启动集群</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）如果集群是第一次启动，需要格式化</span>NameNode<span
lang=ZH-CN style='font-family:宋体;color:red'>（注意格式化之前，一定要先停止上次启动的所有</span><span
style='color:red'>namenode</span><span lang=ZH-CN style='font-family:宋体;
color:red'>和</span><span style='color:red'>datanode</span><span lang=ZH-CN
style='font-family:宋体;color:red'>进程，然后再删除</span><span style='color:red'>data</span><span
lang=ZH-CN style='font-family:宋体;color:red'>和</span><span style='color:red'>log</span><span
lang=ZH-CN style='font-family:宋体;color:red'>数据）</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ bin/hdfs namenode
-format</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体;color:black'>（</span><span style='color:black'>2</span><span
lang=ZH-CN style='font-family:宋体;color:black'>）启动</span><span style='color:
black'>HDFS</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ sbin/start-dfs.sh</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>4166 NameNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>4482 Jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>4263 DataNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop103 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3218 DataNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3288 Jps</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
style='line-height:150%'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop104 hadoop-2.7.2]$ jps</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3221 DataNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3283 SecondaryNameNode</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>3364 Jps</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）启动</span>YARN</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop103 hadoop-2.7.2]$ sbin/start-yarn.sh</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:10.5pt;line-height:
150%'><span lang=ZH-CN style='line-height:150%;font-family:宋体;color:red'>注意：</span><span
style='line-height:150%;color:red'>NameNode</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:red'>和</span><span
style='line-height:150%;color:red'>ResourceManger</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:red'>如果不是同一台机器，不能在</span><span
style='line-height:150%;color:red'>NameNode</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:red'>上启动</span><span lang=ZH-CN
style='line-height:150%;color:red'> </span><span style='line-height:150%;
color:red'>YARN</span><span lang=ZH-CN style='line-height:150%;font-family:
宋体;color:red'>，应该在</span><span style='line-height:150%;color:red'>ResouceManager</span><span
lang=ZH-CN style='line-height:150%;font-family:宋体;color:red'>所在的机器上启动</span><span
style='line-height:150%;color:red'>YARN</span><span lang=ZH-CN
style='line-height:150%;font-family:宋体;color:red'>。</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>4<span lang=ZH-CN style='font-family:
宋体'>）</span>Web<span lang=ZH-CN style='font-family:宋体'>端查看</span>SecondaryNameNode</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span lang=ZH-CN
style='font-family:宋体'>）浏览器中输入：</span><a name="OLE_LINK55"><a
href="http://hadoop104:50090/status.html">http://hadoop104:50090/status.html</a></a></p>

<p class=MsoNormal style='line-height:150%'>              <span lang=ZH-CN
style='font-family:宋体'>（</span>b<span lang=ZH-CN style='font-family:宋体'>）查看</span>SecondaryNameNode<span
lang=ZH-CN style='font-family:宋体'>信息，如图</span>2-41<span lang=ZH-CN
style='font-family:宋体'>所示。</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=415 height=265
id="图片 42" src="尚硅谷大数据技术之Hadoop（入门）.fld/image043.png"></p>

<p class=MsoNormal align=center style='margin-left:21.0pt;text-align:center;
text-indent:21.0pt;line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;
line-height:150%;font-family:宋体'>图</span><span style='font-size:9.0pt;
line-height:150%'>2-41 </span>SecondaryNameNode<span lang=ZH-CN
style='font-family:宋体'>的</span>Web<span lang=ZH-CN style='font-family:宋体'>端</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    <span lang=ZH-CN
style='font-family:黑体'>集群基本测试</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%;punctuation-trim:
leading'><span lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN
style='font-family:宋体'>）上传文件到集群</span></p>

<p class=MsoNormal style='line-height:150%;punctuation-trim:leading'>         <span
lang=ZH-CN style='font-family:宋体'>上传小文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ hdfs dfs -mkdir -p
/user/atguigu/input</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ hdfs dfs -put
wcinput/wc.input /user/atguigu/input</span></p>

<p class=MsoNormal style='line-height:150%;punctuation-trim:leading'>         <span
lang=ZH-CN style='font-family:宋体'>上传大文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ <a name="OLE_LINK46"><a
name="OLE_LINK45">bin/hadoop fs -put</a></a></span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'> /opt/software/hadoop-2.7.2.tar.gz </span><span
style='font-size:10.5pt'> /user/atguigu/input</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%;punctuation-trim:
leading'><span lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN
style='font-family:宋体'>）上传文件后查看文件存放在什么位置</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>（</span>a<span
lang=ZH-CN style='font-family:宋体'>）查看</span>HDFS<span lang=ZH-CN
style='font-family:宋体'>文件存储路径</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 subdir0]$ pwd</span></p>

<p class=MsoNormal style='margin-left:31.5pt;line-height:16.5pt;punctuation-trim:
leading'>/opt/module/hadoop-2.7.2/data/tmp/dfs/data/current/BP-938951106-192.168.10.107-1495462844069/current/finalized/subdir0/subdir0</p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>（</span>b<span
lang=ZH-CN style='font-family:宋体'>）查看</span>HDFS<span lang=ZH-CN
style='font-family:宋体'>在磁盘存储文件内容</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 subdir0]$ cat blk_1073741825</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop yarn</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>hadoop mapreduce </span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>atguigu</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>atguigu</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%;punctuation-trim:
leading'><span lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN
style='font-family:宋体'>）拼接</span></p>

<p class=MsoNormal style='margin-left:31.5pt;punctuation-trim:leading'>-rw-rw-r--.
1 atguigu atguigu 134217728 5<span lang=ZH-CN style='font-family:宋体'>月</span> 
23 16:01 <b><span style='color:black'>blk_1073741836</span></b></p>

<p class=MsoNormal style='margin-left:31.5pt;punctuation-trim:leading'>-rw-rw-r--.
1 atguigu atguigu   1048583 5<span lang=ZH-CN style='font-family:宋体'>月</span> 
23 16:01 blk_1073741836_1012.meta</p>

<p class=MsoNormal style='margin-left:31.5pt;punctuation-trim:leading'>-rw-rw-r--.
1 atguigu atguigu  63439959 5<span lang=ZH-CN style='font-family:宋体'>月</span> 
23 16:01 <b>blk_1073741837</b></p>

<p class=MsoNormal style='margin-left:31.5pt;punctuation-trim:leading'>-rw-rw-r--.
1 atguigu atguigu    495635 5<span lang=ZH-CN style='font-family:宋体'>月</span> 
23 16:01 blk_1073741837_1013.meta</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 subdir0]$ cat
blk_1073741836&gt;&gt;tmp.file</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 subdir0]$ cat
blk_1073741837&gt;&gt;tmp.file</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 subdir0]$ tar -zxvf tmp.file</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%;punctuation-trim:
leading'><span lang=ZH-CN style='font-family:宋体'>（</span>4<span lang=ZH-CN
style='font-family:宋体'>）下载</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[atguigu@hadoop102 hadoop-2.7.2]$ bin/hadoop fs -get</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'> /user/atguigu/input/hadoop-2.7.2.tar.gz ./</span></p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.7 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>集群启动</span><span style='font-size:14.0pt;
line-height:172%'>/</span><span lang=ZH-CN style='font-size:14.0pt;line-height:
172%;font-family:宋体'>停止方式总结</span></h3>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>各个服务组件逐一启动</span>/<span lang=ZH-CN style='font-family:
黑体'>停止</span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）分别启动</span>/<span
lang=ZH-CN style='font-family:宋体'>停止</span>HDFS<span lang=ZH-CN
style='font-family:宋体'>组件</span></p>

<p class=MsoNormal style='line-height:150%'>              hadoop-daemon.sh 
start / stop  namenode / datanode / secondarynamenode</p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）启动</span>/<span
lang=ZH-CN style='font-family:宋体'>停止</span>YARN</p>

<p class=MsoNormal style='line-height:150%'>              yarn-daemon.sh  start
/ stop  resourcemanager / nodemanager</p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>各个模块分开启动</span>/<span lang=ZH-CN style='font-family:
黑体'>停止（配置</span>ssh<span lang=ZH-CN style='font-family:黑体'>是前提）<span
style='color:red'>常用</span></span></p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:宋体'>）整体启动</span>/<span
lang=ZH-CN style='font-family:宋体'>停止</span>HDFS</p>

<p class=MsoNormal style='line-height:150%'>              start-dfs.sh   /  stop-dfs.sh</p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）整体启动</span>/<span
lang=ZH-CN style='font-family:宋体'>停止</span>YARN</p>

<p class=MsoNormal style='line-height:150%'>              start-yarn.sh  /  stop-yarn.sh</p>

<h3 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%'>4.3.8 </span><span lang=ZH-CN style='font-size:14.0pt;
line-height:172%;font-family:宋体'>集群时间同步</span></h3>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>时间同步的方式：找一个机器，作为时间服务器，所有的机器与这台集群时间进行定时的同步，比如，每隔十分钟，同步一次时间。</span></p>

<p class=MsoNormal style='line-height:150%'><img border=0 width=412 height=232
id="_x0000_i1054" src="尚硅谷大数据技术之Hadoop（入门）.fld/image044.png"></p>

<p class=MsoNormal style='line-height:150%'><b><span lang=ZH-CN
style='font-family:宋体'>配置时间同步具体实操：</span></b></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>时间服务器配置（必须</span>root<span lang=ZH-CN style='font-family:
黑体'>用户）</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）检查</span>ntp<span lang=ZH-CN style='font-family:宋体'>是否安装</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop102 </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
rpm -qa|grep ntp</span></p>

<p class=MsoNormal style='text-indent:31.5pt;line-height:16.5pt;punctuation-trim:
leading'>ntp-4.2.6p5-10.el6.centos.x86_64</p>

<p class=MsoNormal style='text-indent:31.5pt;line-height:16.5pt;punctuation-trim:
leading'>fontpackages-filesystem-1.41-1.1.el6.noarch</p>

<p class=MsoNormal style='text-indent:31.5pt;line-height:16.5pt;punctuation-trim:
leading'>ntpdate-4.2.6p5-10.el6.centos.x86_64</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）修改</span>ntp<span lang=ZH-CN style='font-family:宋体'>配置文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop102 </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
vi /etc/ntp.conf</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:10.5pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>修改内容如下</span></p>

<p class=MsoNormal style='margin-left:31.5pt;text-indent:10.5pt;line-height:
150%'>a<span lang=ZH-CN style='font-family:宋体'>）修改</span>1<span lang=ZH-CN
style='font-family:宋体'>（授权</span>192.168.1.0-192.168.1.255<span lang=ZH-CN
style='font-family:宋体'>网段上的所有机器可以从这台机器上查询和同步时间）</span></p>

<p class=MsoNormal style='margin-left:52.5pt;text-indent:10.5pt;line-height:
150%'><b><span style='color:red'>#</span></b>restrict 192.168.1.0 mask
255.255.255.0 nomodify notrap<span lang=ZH-CN style='font-family:宋体'>为</span></p>

<p class=MsoNormal style='margin-left:52.5pt;text-indent:10.5pt;line-height:
150%'>restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</p>

<p class=MsoNormal style='line-height:150%'>              b<span lang=ZH-CN
style='font-family:宋体'>）修改</span>2<span lang=ZH-CN style='font-family:宋体'>（集群在局域网中，不使用其他互联网上的时间）</span></p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'>server
0.centos.pool.ntp.org iburst</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'>server 1.centos.pool.ntp.org
iburst</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'>server
2.centos.pool.ntp.org iburst</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'>server
3.centos.pool.ntp.org iburst<span lang=ZH-CN style='font-family:宋体'>为</span></p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'><b><span
style='color:red'>#</span></b>server 0.centos.pool.ntp.org iburst</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'><b><span
style='color:red'>#</span></b>server 1.centos.pool.ntp.org iburst</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'><b><span
style='color:red'>#</span></b>server 2.centos.pool.ntp.org iburst</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'><b><span
style='color:red'>#</span></b>server 3.centos.pool.ntp.org iburst</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;line-height:
150%'>c<span lang=ZH-CN style='font-family:宋体'>）添加</span>3<span lang=ZH-CN
style='font-size:10.0pt;line-height:150%;font-family:宋体;color:#444444'>（</span><span
lang=ZH-CN style='font-family:宋体'>当该节点丢失网络连接，依然可以采用本地时间作为时间服务器为集群中的其他节点提供时间同步</span><span
lang=ZH-CN style='font-size:10.0pt;line-height:150%;font-family:宋体;color:#444444'>）</span></p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'>server
127.127.1.0</p>

<p class=MsoNormal style='margin-left:63.0pt;line-height:150%'>fudge
127.127.1.0 stratum 10</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）修改</span>/etc/sysconfig/ntpd <span lang=ZH-CN style='font-family:宋体'>文件</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop102 </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
vim /etc/sysconfig/ntpd</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
16.5pt;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>增加内容如下（让硬件时间与系统时间一起同步）</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>SYNC_HWCLOCK=yes</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>4<span lang=ZH-CN style='font-family:
宋体'>）重新启动</span>ntpd<span lang=ZH-CN style='font-family:宋体'>服务</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop102 </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
service ntpd status</span></p>

<p class=MsoNormal style='text-indent:31.5pt;line-height:150%;punctuation-trim:
leading'>ntpd <span lang=ZH-CN style='font-family:宋体'>已停</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop102 </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
service ntpd start</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>正在启动</span> ntpd<span lang=ZH-CN
style='font-family:宋体'>：</span><span lang=ZH-CN> </span>                                           [<span
lang=ZH-CN style='font-family:宋体'>确定</span>]</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>5<span lang=ZH-CN style='font-family:
宋体'>）设置</span>ntpd<span lang=ZH-CN style='font-family:宋体'>服务开机启动</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop102 </span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
chkconfig ntpd on</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>其他机器配置（必须</span>root<span lang=ZH-CN style='font-family:
黑体'>用户）</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）在其他机器配置</span>10<span lang=ZH-CN style='font-family:宋体'>分钟与时间服务器同步一次</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop103</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
crontab -e</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%;punctuation-trim:leading'><span lang=ZH-CN style='font-family:宋体'>编写定时任务如下：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>*/10 * * * * /usr/sbin/ntpdate hadoop102</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:
宋体'>）修改任意机器时间</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop103</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
date -s &quot;2017-9-11 11:11:11&quot;</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>3<span lang=ZH-CN style='font-family:
宋体'>）十分钟后查看机器是否与时间服务器同步</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[<b>root</b>@hadoop103</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体'>桌面</span><span style='font-size:10.5pt'>]#
date</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体;color:red'>说明：测试的时候可以将</span><span
style='color:red'>10</span><span lang=ZH-CN style='font-family:宋体;color:red'>分钟调整为</span><span
style='color:red'>1</span><span lang=ZH-CN style='font-family:宋体;color:red'>分钟，节省时间。</span></p>

<h1 style='margin:0in;margin-bottom:.0001pt'><span lang=ZH-CN style='font-size:
15.0pt;line-height:240%;font-family:宋体'>第</span><span style='font-size:15.0pt;
line-height:240%'>5</span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>章</span><span style='font-size:15.0pt;line-height:240%'>
Hadoop</span><span lang=ZH-CN style='font-size:15.0pt;line-height:240%;
font-family:宋体'>编译源码（面试重点）</span></h1>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>5.1 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>前期准备工作</span></h2>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    CentOS<span
lang=ZH-CN style='font-family:黑体'>联网</span><span lang=ZH-CN> </span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;line-height:150%;
background:white'><span lang=ZH-CN style='font-size:10.5pt;line-height:150%;
font-family:宋体;color:#333333'>配置</span><span style='font-size:10.5pt;
line-height:150%;color:#333333'>CentOS</span><span lang=ZH-CN style='font-size:
10.5pt;line-height:150%;font-family:宋体;color:#333333'>能连接外网。</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>Linux</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>虚拟机</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>ping </span><a
href="http://www.baidu.com"><span style='font-size:10.5pt;line-height:150%'>www.baidu.com</span></a><span
style='font-size:10.5pt;line-height:150%;color:#333333'> </span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>是畅通的</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;line-height:150%;
background:white'><span lang=ZH-CN style='font-size:10.5pt;line-height:150%;
font-family:宋体;color:red'>注意：采用</span><span style='font-size:10.5pt;line-height:
150%;color:red'>root</span><span lang=ZH-CN style='font-size:10.5pt;line-height:
150%;font-family:宋体;color:red'>角色编译</span><span lang=ZH-CN style='font-size:
10.5pt;line-height:150%;font-family:宋体;color:#333333'>，减少文件夹权限出现问题</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    jar<span
lang=ZH-CN style='font-family:黑体'>包准备</span>(hadoop<span lang=ZH-CN
style='font-family:黑体'>源码、</span>JDK8<span lang=ZH-CN style='font-family:黑体'>、</span>maven<span
lang=ZH-CN style='font-family:黑体'>、</span>ant <span lang=ZH-CN
style='font-family:黑体'>、</span>protobuf)</p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;color:#333333'>1</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:#333333'>）</span><span
style='font-size:10.5pt;color:#333333'>hadoop-2.7.2-src.tar.gz</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;color:#333333'>2</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:#333333'>）</span><span
style='font-size:10.5pt;color:#333333'>jdk-8u144-linux-x64.tar.gz</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;color:#333333'>3</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:#333333'>）</span><span
style='font-size:10.5pt;color:#333333'>apache-ant-1.9.9-bin.tar.gz</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;color:#333333'>build</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:#333333'>工具，打包用的）</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;color:#333333'>4</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:#333333'>）</span><span
style='font-size:10.5pt;color:#333333'>apache-maven-3.0.5-bin.tar.gz</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;color:#333333'>5</span><span lang=ZH-CN
style='font-size:10.5pt;font-family:宋体;color:#333333'>）</span><span
style='font-size:10.5pt;color:#333333'>protobuf-2.5.0.tar.gz</span><span
lang=ZH-CN style='font-size:10.5pt;font-family:宋体;color:#333333'>（序列化的框架）</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>5.2 jar</span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>包安装</span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;color:red'>注意：所有操作必须在</span><span style='color:red'>root</span><span
lang=ZH-CN style='font-family:宋体;color:red'>用户下完成</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>JDK<span
lang=ZH-CN style='font-family:黑体'>解压、配置环境变量</span> JAVA_HOME<span lang=ZH-CN
style='font-family:黑体'>和</span>PATH<span lang=ZH-CN style='font-family:黑体'>，验证</span><a
href="http://lib.csdn.net/base/javase" target="_blank" title="Java SE知识库"><span
style='color:windowtext;text-decoration:none'>java</span></a>-version(<span
lang=ZH-CN style='font-family:黑体'>如下都需要验证是否配置成功</span>)</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software] # tar -zxf jdk-8u144-linux-x64.tar.gz
-C /opt/module/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]# vi /etc/profile</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#JAVA_HOME</span><span lang=ZH-CN style='font-size:
10.5pt;font-family:宋体'>：</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export JAVA_HOME=/opt/module/jdk1.8.0_144</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$JAVA_HOME/bin</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]#source /etc/profile</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><b><span lang=ZH-CN style='font-family:宋体;color:black'>验证命令：</span><span
style='color:black'>java -version</span></b></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Maven<span
lang=ZH-CN style='font-family:黑体'>解压、配置</span> &nbsp;MAVEN_HOME<span
lang=ZH-CN style='font-family:黑体'>和</span>PATH</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]# tar -zxvf
apache-maven-3.0.5-bin.tar.gz -C /opt/module/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-maven-3.0.5]# vi
conf/settings.xml</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;mirrors&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>    &lt;!-- mirror</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     | Specifies a repository mirror site to use
instead of a given repository. The repository that</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     | this mirror serves has an ID that matches the
mirrorOf element of this mirror. IDs are used</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     | for inheritance and direct lookup purposes, and
must be unique across the set of mirrors.</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     |</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;mirror&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>       &lt;id&gt;mirrorId&lt;/id&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>       &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>       &lt;name&gt;Human Readable Name for this
Mirror.&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>      
&lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>      &lt;/mirror&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>     --&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        <span style='color:red'>&lt;mirror&gt;</span></span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>               
&lt;id&gt;nexus-aliyun&lt;/id&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>               
&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>                &lt;name&gt;Nexus
aliyun&lt;/name&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>               
&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt;color:red'>        &lt;/mirror&gt;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&lt;/mirrors&gt;</span></p>

<p class=MsoNormal style='line-height:150%'><span style='color:#7030A0'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-maven-3.0.5]# vi /etc/profile</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#MAVEN_HOME</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export MAVEN_HOME=/opt/module/apache-maven-3.0.5</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$MAVEN_HOME/bin</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]#source /etc/profile</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><b><span lang=ZH-CN style='font-family:宋体;color:black'>验证命令：</span><span
style='color:black'>mvn -version</span></b></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>ant<span
lang=ZH-CN style='font-family:黑体'>解压、配置</span> &nbsp;ANT _HOME<span lang=ZH-CN
style='font-family:黑体'>和</span>PATH</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]# tar -zxvf
apache-ant-1.9.9-bin.tar.gz -C /opt/module/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-ant-1.9.9]# vi /etc/profile</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#ANT_HOME</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export ANT_HOME=/opt/module/apache-ant-1.9.9</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$ANT_HOME/bin</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]#source /etc/profile</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><b><span lang=ZH-CN style='font-family:宋体;color:black'>验证命令：</span><span
style='color:black'>ant -version</span></b></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>安装</span> <a name="OLE_LINK19"><a
name="OLE_LINK18">&nbsp;glibc-headers</a> </a><span lang=ZH-CN
style='font-family:黑体'>和</span> &nbsp;g++ &nbsp;<span lang=ZH-CN
style='font-family:黑体'>命令如下</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-ant-1.9.9]# yum install
glibc-headers</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-ant-1.9.9]#&nbsp;yum install
gcc-c++</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>安装</span>make<span lang=ZH-CN
style='font-family:黑体'>和</span>cmake</p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-ant-1.9.9]# yum install make</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 apache-ant-1.9.9]# yum install cmake</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>解压</span>protobuf <span lang=ZH-CN
style='font-family:黑体'>，<span style='color:red'>进入到解压后</span></span><span
style='color:red'>protobuf</span><span lang=ZH-CN style='font-family:黑体;
color:red'>主目录</span><span lang=ZH-CN style='font-family:黑体'>，</span>/opt/module/protobuf-2.5.0<span
lang=ZH-CN style='font-family:黑体'>，然后相继执行命令</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]# tar -zxvf
protobuf-2.5.0.tar.gz -C /opt/module/</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 opt]# cd /opt/module/protobuf-2.5.0/</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><span
style='line-height:150%;color:#7030A0'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 protobuf-2.5.0]#./configure&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 protobuf-2.5.0]# make&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 protobuf-2.5.0]# make check&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 protobuf-2.5.0]# make install&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 protobuf-2.5.0]# ldconfig&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 hadoop-dist]# vi /etc/profile</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>#LD_LIBRARY_PATH</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export LD_LIBRARY_PATH=/opt/module/protobuf-2.5.0</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>export PATH=$PATH:$LD_LIBRARY_PATH</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>&nbsp;</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]#source /etc/profile</span></p>

<p style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:10.5pt;
margin-bottom:.0001pt;text-indent:21.0pt;line-height:150%;background:white'><b><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:black'>验证命令：</span></b><b><span
style='font-size:10.5pt;line-height:150%;color:black'>protoc --version</span></b></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>安装</span><a name="OLE_LINK21"><a
name="OLE_LINK20">openssl</a></a><span lang=ZH-CN style='font-family:黑体'>库</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]#yum install openssl-devel</span></p>

<p class=10 style='margin-top:6.2pt;margin-right:0in;margin-bottom:0in;
margin-left:40.0pt;margin-bottom:.0001pt;text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN style='font-family:黑体'>安装</span>&nbsp;ncurses-devel<span lang=ZH-CN
style='font-family:黑体'>库</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]#yum install ncurses-devel</span></p>

<p style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:10.5pt;
margin-bottom:.0001pt;text-indent:21.0pt;line-height:150%;background:white'><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>到此，编译工具安装基本完成。</span></p>

<h2 style='margin:0in;margin-bottom:.0001pt'><span style='font-size:14.0pt;
line-height:172%;font-family:"Times New Roman",serif'>5.3 </span><span
lang=ZH-CN style='font-size:14.0pt;line-height:172%;font-family:黑体'>编译源码</span></h2>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>1.    <span lang=ZH-CN
style='font-family:黑体'>解压源码到</span>/opt/<span lang=ZH-CN style='font-family:
黑体'>目录</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 software]# tar -zxvf
hadoop-2.7.2-src.tar.gz -C /opt/</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>2.    <span lang=ZH-CN
style='font-family:黑体'>进入到</span>hadoop<span lang=ZH-CN style='font-family:
黑体'>源码主目录</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 hadoop-2.7.2-src]# pwd</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>/opt/hadoop-2.7.2-src</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>3.    <span lang=ZH-CN
style='font-family:黑体'>通过</span>maven<span lang=ZH-CN style='font-family:黑体'>执行编译命令</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 hadoop-2.7.2-src]#mvn package
-Pdist,native -DskipTests -Dtar</span></p>

<p class=MsoNormal style='margin-left:10.5pt;text-indent:21.0pt;line-height:
150%'><span lang=ZH-CN style='font-family:宋体'>等待时间</span>30<span lang=ZH-CN
style='font-family:宋体'>分钟左右，最终成功是全部</span>SUCCESS<span lang=ZH-CN
style='font-family:宋体'>，如图</span>2-42<span lang=ZH-CN style='font-family:宋体'>所示。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><img border=0
width=386 height=225 id="_x0000_i1057"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image045.png"></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
line-height:150%'><span lang=ZH-CN style='font-size:9.0pt;line-height:150%;
font-family:宋体'>图</span><span style='font-size:9.0pt;line-height:150%'>2-42 </span><span
lang=ZH-CN style='font-size:9.0pt;line-height:150%;font-family:宋体'>编译源码</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>4.    <span lang=ZH-CN
style='font-family:黑体'>成功的</span>64<span lang=ZH-CN style='font-family:黑体'>位</span>hadoop<span
lang=ZH-CN style='font-family:黑体'>包在</span>/opt/hadoop-2.7.2-src/hadoop-dist/target<span
lang=ZH-CN style='font-family:黑体'>下</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>[root@hadoop101 target]# pwd</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>/opt/hadoop-2.7.2-src/hadoop-dist/target</span></p>

<p class=10 style='margin-top:6.2pt;text-indent:22.0pt'>5. <span lang=ZH-CN
style='font-family:黑体'>编译源码过程中常见的问题及解决方案</span></p>

<p style='margin:0in;margin-bottom:.0001pt;line-height:150%;background:white'><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>1</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>）</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>MAVEN install</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>时候</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>JVM</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>内存溢出</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;line-height:150%;
background:white'><span lang=ZH-CN style='font-size:10.5pt;line-height:150%;
font-family:宋体;color:#333333'>处理方式：在环境配置文件和</span><span style='font-size:10.5pt;
line-height:150%;color:#333333'>maven</span><span lang=ZH-CN style='font-size:
10.5pt;line-height:150%;font-family:宋体;color:#333333'>的执行文件均可调整</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>MAVEN_OPT</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>的</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>heap</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>大小。（详情查阅</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>MAVEN </span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>编译</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'> JVM</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>调优问题，如：</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>http://outofmemory.cn/code-snippet/12652/maven-outofmemoryerror-method</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>）</span></p>

<p style='margin:0in;margin-bottom:.0001pt;line-height:150%;background:white'><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>2</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>）编译期间</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>maven</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>报错。可能网络阻塞问题导致依赖库下载不完整导致，多次执行命令（一次通过比较难）：</span></p>

<p class=a>[root@hadoop101 hadoop-2.7.2-src]#mvn package -Pdist,nativeN
-DskipTests -Dtar</p>

<p style='margin:0in;margin-bottom:.0001pt;line-height:150%;background:white'><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>（</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>3</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>）报</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>ant</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>、</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>protobuf</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>等错误，插件下载未完整或者插件版本问题，最开始链接有较多特殊情况，同时推荐</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-indent:21.0pt;line-height:150%;
background:white'><span style='font-size:10.5pt;line-height:150%;color:#333333'>2.7.0</span><span
lang=ZH-CN style='font-size:10.5pt;line-height:150%;font-family:宋体;color:#333333'>版本的问题汇总帖子</span><span
style='font-size:10.5pt;line-height:150%;color:#333333'>&nbsp;</span><a
href="http://www.tuicool.com/articles/IBn63qf"><span style='font-size:10.5pt;
line-height:150%'>http://www.tuicool.com/articles/IBn63qf</span></a></p>

<h1 style='margin:0in;margin-bottom:.0001pt'><span lang=ZH-CN style='font-size:
15.0pt;line-height:240%;font-family:宋体'>第</span><span style='font-size:15.0pt;
line-height:240%'>6</span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>章</span><span lang=ZH-CN style='font-size:15.0pt;
line-height:240%'> </span><span lang=ZH-CN style='font-size:15.0pt;line-height:
240%;font-family:宋体'>常见错误及解决方案</span></h1>

<p class=MsoNormal style='line-height:150%'>1<span lang=ZH-CN style='font-family:
宋体'>）防火墙没关闭、或者没有启动</span>YARN</p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><i>INFO
client.RMProxy: Connecting to ResourceManager at hadoop108/192.168.10.108:8032</i></p>

<p class=MsoNormal style='line-height:150%'>2<span lang=ZH-CN style='font-family:
宋体'>）主机名称配置错误</span></p>

<p class=MsoNormal style='line-height:150%'>3<span lang=ZH-CN style='font-family:
宋体'>）</span>IP<span lang=ZH-CN style='font-family:宋体'>地址配置错误</span></p>

<p class=MsoNormal style='line-height:150%'>4<span lang=ZH-CN style='font-family:
宋体'>）</span>ssh<span lang=ZH-CN style='font-family:宋体'>没有配置好</span></p>

<p class=MsoNormal style='line-height:150%'>5<span lang=ZH-CN style='font-family:
宋体'>）</span>root<span lang=ZH-CN style='font-family:宋体'>用户和</span>atguigu<span
lang=ZH-CN style='font-family:宋体'>两个用户启动集群不统一</span></p>

<p class=MsoNormal style='line-height:150%'>6<span lang=ZH-CN style='font-family:
宋体'>）配置文件修改不细心</span></p>

<p class=MsoNormal style='line-height:150%'>7<span lang=ZH-CN style='font-family:
宋体'>）未编译源码</span></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><i>Unable to
load native-hadoop library for your platform... using builtin-java classes
where applicable</i></p>

<p class=MsoNormal style='margin-left:21.0pt;line-height:150%'><i>17/05/22
15:38:58 INFO client.RMProxy: Connecting to ResourceManager at
hadoop108/192.168.10.108:8032</i></p>

<p class=MsoNormal style='line-height:150%'>8<span lang=ZH-CN style='font-family:
宋体'>）不识别主机名称</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>java.net.UnknownHostException: hadoop102: hadoop102</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        at
java.net.InetAddress.getLocalHost(InetAddress.java:1475)</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:146)</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        at
org.apache.hadoop.mapreduce.Job$10.run(Job.java:1290)</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        at
org.apache.hadoop.mapreduce.Job$10.run(Job.java:1287)</span></p>

<p class=a style='margin-left:31.5pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>        at java.security.AccessController.doPrivileged(Native
Method)</span></p>

<p class=a style='margin-left:31.5pt;text-indent:42.0pt;punctuation-trim:leading'><span
style='font-size:10.5pt'>at javax.security.auth.Subject.doAs(Subject.java:415)</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>解决办法：</span></p>

<p class=MsoNormal style='text-indent:21.0pt;line-height:150%'><span
lang=ZH-CN style='font-family:宋体'>（</span>1<span lang=ZH-CN style='font-family:
宋体'>）在</span>/etc/hosts<span lang=ZH-CN style='font-family:宋体'>文件中添加</span>192.168.1.102
hadoop102</p>

<p class=MsoNormal style='line-height:150%'>       <span lang=ZH-CN
style='font-family:宋体'>（</span>2<span lang=ZH-CN style='font-family:宋体'>）主机名称不要起</span>hadoop 
hadoop000<span lang=ZH-CN style='font-family:宋体'>等特殊名称</span></p>

<p class=MsoNormal style='line-height:150%'>9<span lang=ZH-CN style='font-family:
宋体'>）</span>DataNode<span lang=ZH-CN style='font-family:宋体'>和</span>NameNode<span
lang=ZH-CN style='font-family:宋体'>进程同时只能工作一个。</span></p>

<p class=MsoNormal><img border=0 width=413 height=234 id="_x0000_i1055"
src="尚硅谷大数据技术之Hadoop（入门）.fld/image046.png"></p>

<p class=MsoNormal style='line-height:150%'>10<span lang=ZH-CN
style='font-family:宋体'>）执行命令不生效，粘贴</span>word<span lang=ZH-CN style='font-family:
宋体'>中命令时，遇到</span>-<span lang=ZH-CN style='font-family:宋体'>和长</span>–<span
lang=ZH-CN style='font-family:宋体'>没区分开。导致命令失效</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>解决办法：尽量不要粘贴</span>word<span lang=ZH-CN style='font-family:宋体'>中代码。</span></p>

<p class=MsoNormal style='line-height:150%'>11<span lang=ZH-CN
style='font-family:宋体'>）</span>jps<span lang=ZH-CN style='font-family:宋体'>发现进程已经没有，但是重新启动集群，提示进程已经开启。原因是在</span>linux<span
lang=ZH-CN style='font-family:宋体'>的根目录下</span>/tmp<span lang=ZH-CN
style='font-family:宋体'>目录中存在启动的进程临时文件，将集群相关进程删除掉，再重新启动集群。</span></p>

<p class=MsoNormal style='line-height:150%'>12<span lang=ZH-CN
style='font-family:宋体'>）</span>jps<span lang=ZH-CN style='font-family:宋体'>不生效。</span></p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>原因：全局变量</span>hadoop java<span lang=ZH-CN style='font-family:宋体'>没有生效。解决办法：需要</span>source
/etc/profile<span lang=ZH-CN style='font-family:宋体'>文件。</span></p>

<p class=MsoNormal style='line-height:150%'>13<span lang=ZH-CN
style='font-family:宋体'>）</span>8088<span lang=ZH-CN style='font-family:宋体'>端口连接不上</span></p>

<p class=MsoNormal style='line-height:150%'>[atguigu@hadoop102 <span
lang=ZH-CN style='font-family:宋体'>桌面</span>]$ cat /etc/hosts</p>

<p class=MsoNormal style='line-height:150%'><span lang=ZH-CN style='font-family:
宋体'>注释掉如下代码</span></p>

<p class=MsoNormal style='line-height:150%'>#127.0.0.1   localhost
localhost.localdomain localhost4 localhost4.localdomain4</p>

<p class=MsoNormal style='line-height:150%'>#::1         hadoop102</p>

</div>

</body>

</html>
